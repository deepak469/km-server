(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{PgJR:function(e,t,r){"use strict";r.r(t),r.d(t,"EmployeeModule",(function(){return le}));var i=r("ofXK"),a=r("3Pt+"),o=r("ZOsW"),n=r("7EHt"),s=r("kmnG"),c=r("NFeN"),l=r("d3UM"),b=r("qFsG"),m=r("+0xr"),u=r("M9IT"),p=r("Dh3D"),d=r("Wp6s"),h=r("iadO"),f=r("bTqV"),g=r("QibW"),v=r("bSwM"),U=r("0IaG"),T=r("FKr1"),w=r("u47x"),E=r("UXJo"),I=r("5+WD"),P=r("+rOU"),S=r("vxfF"),y=r("B/XX"),C=r("f6nW"),O=r("FvrZ"),k=r("/1cH"),x=r("TU8p"),N=r("2ChS"),F=r("jaxi"),q=r("A5z7"),A=r("xHqg"),M=r("f0Cb"),D=r("zkoq"),L=r("MutI"),j=r("STbY"),B=r("bv9b"),G=r("Xa2L"),_=r("XhcP"),R=r("5RNC"),V=r("1jcm"),X=r("dNgK"),z=r("wZkO"),Y=r("/t3+"),Z=r("Qu3c"),K=r("8yBR"),W=r("tyNb"),H=r("SxV6"),J=r("fXoL"),Q=r("YpDT"),$=r("w7A6");function ee(e,t){if(1&e){const e=J.Vb();J.Ub(0,"li"),J.Ec(1),J.Ub(2,"a",1),J.cc("click",(function(){J.wc(e);const r=t.$implicit;return J.gc().deleteUser(r.id)})),J.Ec(3,"Delete"),J.Tb(),J.Tb()}if(2&e){const e=t.$implicit;J.Cb(1),J.Ic(" ",e.username," (",e.firstName," ",e.lastName,") - ")}}let te=(()=>{class e{constructor(e,t){this.authenticationService=e,this.userService=t,this.users=[],this.currentUser=this.authenticationService.currentUserValue}ngOnInit(){this.loadAllUsers()}deleteUser(e){this.userService.delete(e).pipe(Object(H.a)()).subscribe(()=>this.loadAllUsers())}loadAllUsers(){this.userService.getAll().pipe(Object(H.a)()).subscribe(e=>this.users=e)}}return e.\u0275fac=function(t){return new(t||e)(J.Ob(Q.a),J.Ob($.a))},e.\u0275cmp=J.Ib({type:e,selectors:[["ng-component"]],decls:8,vars:2,consts:[[4,"ngFor","ngForOf"],[1,"text-danger",3,"click"]],template:function(e,t){1&e&&(J.Ub(0,"h1"),J.Ec(1),J.Tb(),J.Ub(2,"p"),J.Ec(3,"You're logged in with Angular 8!!"),J.Tb(),J.Ub(4,"h3"),J.Ec(5,"All registered users:"),J.Tb(),J.Ub(6,"ul"),J.Cc(7,ee,4,3,"li",0),J.Tb()),2&e&&(J.Cb(1),J.Gc("Hi ",t.currentUser.empName,"!"),J.Cb(6),J.lc("ngForOf",t.users))},directives:[i.j],encapsulation:2}),e})();var re=r("RU4u");function ie(e,t){1&e&&(J.Ub(0,"mat-error"),J.Ec(1," The username and password were not recognised "),J.Tb())}let ae=(()=>{class e{constructor(e,t,r,i,a){this.formBuilder=e,this.route=t,this.router=r,this.authenticationService=i,this.alertService=a,this.loading=!1,this.submitted=!1,this.authenticationService.currentUserValue&&this.router.navigate(["/"])}ngOnInit(){this.loginForm=this.formBuilder.group({username:["",a.v.required],password:["",a.v.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}get f(){return this.loginForm.controls}onSubmit(){console.log("onSubmit"),this.submitted=!0,this.alertService.clear(),this.loginForm.invalid?console.log("stop here if form is invalid"):(this.loading=!0,this.loginData={empEmail:this.f.username.value,password:this.f.password.value},this.authenticationService.login(this.loginData).pipe(Object(H.a)()).subscribe(e=>{this.router.navigate([this.returnUrl])},e=>{this.loginInvalid=!0,this.alertService.error(e),this.loading=!1}))}}return e.\u0275fac=function(t){return new(t||e)(J.Ob(a.d),J.Ob(W.a),J.Ob(W.c),J.Ob(Q.a),J.Ob(re.a))},e.\u0275cmp=J.Ib({type:e,selectors:[["ng-component"]],decls:24,vars:6,consts:[[1,"container","bg-common","static-height"],[3,"formGroup","ngSubmit"],[4,"ngIf"],[1,"full-width-input"],["matInput","","placeholder","Email","formControlName","username","required",""],["matInput","","type","password","placeholder","Password","formControlName","password","required",""],["mat-raised-button","","color","primary",3,"disabled"],["mat-stroked-button","","routerLink","/employee/register",1,"btn","btn-link",3,"disabled"]],template:function(e,t){1&e&&(J.Ub(0,"div",0),J.Pb(1,"br"),J.Pb(2,"br"),J.Ub(3,"mat-card"),J.Ub(4,"mat-card-content"),J.Ub(5,"form",1),J.cc("ngSubmit",(function(){return t.onSubmit()})),J.Ub(6,"h2"),J.Ec(7,"Log In"),J.Tb(),J.Cc(8,ie,2,0,"mat-error",2),J.Ub(9,"mat-form-field",3),J.Pb(10,"input",4),J.Ub(11,"mat-error"),J.Ec(12," Please provide a valid email address "),J.Tb(),J.Tb(),J.Ub(13,"mat-form-field",3),J.Pb(14,"input",5),J.Ub(15,"mat-error"),J.Ec(16," Please provide a valid password "),J.Tb(),J.Tb(),J.Pb(17,"br"),J.Ub(18,"button",6),J.Ec(19,"Login"),J.Tb(),J.Ec(20," \xa0\xa0 "),J.Ub(21,"a",7),J.Ec(22,"Register"),J.Tb(),J.Tb(),J.Tb(),J.Tb(),J.Pb(23,"div"),J.Tb()),2&e&&(J.Cb(5),J.lc("formGroup",t.loginForm),J.Cb(3),J.lc("ngIf",t.loginInvalid),J.Cb(10),J.Fb("spinner",t.loading),J.lc("disabled",t.loading),J.Cb(3),J.lc("disabled",t.loading))},directives:[d.a,d.d,a.x,a.m,a.f,i.k,s.c,b.b,a.c,a.l,a.e,a.t,s.b,f.b,f.a,W.e],styles:['mat-card[_ngcontent-%COMP%]{max-width:400px;margin:2em auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{display:block}@-webkit-keyframes spinner{to{transform:rotate(1turn)}}@keyframes spinner{to{transform:rotate(1turn)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#000;-webkit-animation:spinner .8s linear infinite;animation:spinner .8s linear infinite}']}),e})();function oe(e,t){1&e&&(J.Ub(0,"h5"),J.Ub(1,"mat-icon",14),J.Ec(2,"check_circle_outline"),J.Tb(),J.Ec(3," Profile got created successfully, please wait for admin approval."),J.Tb())}let ne=(()=>{class e{constructor(e,t,r,i,a){this.formBuilder=e,this.router=t,this.authenticationService=r,this.userService=i,this.alertService=a,this.successFlag=!1,this.submitted=!1,this.authenticationService.currentUserValue&&this.router.navigate(["/"])}ngOnInit(){this.registerForm=this.formBuilder.group({empName:["",a.v.required],empEmail:["",a.v.required],ibmEmpId:["",a.v.required],password:["",[a.v.required,a.v.minLength(6)]],empImage:[""],empDescription:[""]})}get f(){return this.registerForm.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),this.registerForm.invalid||(this.profileData={empName:this.f.empName.value,empEmail:this.f.empEmail.value,ibmEmpId:this.f.ibmEmpId.value,password:this.f.password.value,empImage:this.f.empImage.value,empDescription:this.f.empDescription.value},this.userService.register(this.profileData).pipe(Object(H.a)()).subscribe(e=>{this.successFlag=!0},e=>{this.alertService.error(e)}))}}return e.\u0275fac=function(t){return new(t||e)(J.Ob(a.d),J.Ob(W.c),J.Ob(Q.a),J.Ob($.a),J.Ob(re.a))},e.\u0275cmp=J.Ib({type:e,selectors:[["ng-component"]],decls:38,vars:2,consts:[[1,"container","bg-common","static-height"],[1,"example-card"],["mat-card-avatar","","src","https://raw.githubusercontent.com/palashibm2020/KMImage/master/assets/img/icons/Avatar.png","alt","Avatar"],[3,"formGroup","ngSubmit"],[1,"full-width-input"],["matInput","","placeholder","Employee Name","formControlName","empName","required",""],["matInput","","placeholder","E-Mail","formControlName","empEmail","pattern","[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}","required",""],["matInput","","placeholder","IBM Employee Id","formControlName","ibmEmpId","required",""],["matInput","","type","password","placeholder","Password","formControlName","password","required","","minlength","6"],["matInput","","placeholder","Avatar Image","formControlName","empImage"],["matInput","","placeholder","About You ...","formControlName","empDescription"],["mat-stroked-button","","color","primary"],["mat-stroked-button","","routerLink","/employee/login","color","primary"],[4,"ngIf"],["color","primary"]],template:function(e,t){1&e&&(J.Ub(0,"div",0),J.Ub(1,"mat-card",1),J.Ub(2,"mat-card-header"),J.Pb(3,"img",2),J.Ub(4,"mat-card-title"),J.Ec(5,"Register to Login and Access"),J.Tb(),J.Ub(6,"mat-card-subtitle"),J.Ec(7,"Create a user profile."),J.Tb(),J.Tb(),J.Ub(8,"mat-card-content"),J.Ub(9,"form",3),J.cc("ngSubmit",(function(){return t.onSubmit()})),J.Ub(10,"mat-form-field",4),J.Pb(11,"input",5),J.Ub(12,"mat-error"),J.Ec(13," Please provide Name "),J.Tb(),J.Tb(),J.Ub(14,"mat-form-field",4),J.Pb(15,"input",6),J.Ub(16,"mat-error"),J.Ec(17," Please provide a valid E-Mail "),J.Tb(),J.Tb(),J.Ub(18,"mat-form-field",4),J.Pb(19,"input",7),J.Ub(20,"mat-error"),J.Ec(21," Please provide a valid IBM Employee Id "),J.Tb(),J.Tb(),J.Ub(22,"mat-form-field",4),J.Pb(23,"input",8),J.Ub(24,"mat-error"),J.Ec(25," Please provide a valid password "),J.Tb(),J.Tb(),J.Ub(26,"mat-form-field",4),J.Pb(27,"input",9),J.Tb(),J.Ub(28,"mat-form-field",4),J.Pb(29,"textarea",10),J.Tb(),J.Pb(30,"br"),J.Ub(31,"button",11),J.Ec(32," Register"),J.Tb(),J.Ec(33," \xa0\xa0 "),J.Ub(34,"a",12),J.Ec(35,"Cancel"),J.Tb(),J.Tb(),J.Pb(36,"br"),J.Cc(37,oe,4,0,"h5",13),J.Tb(),J.Tb(),J.Tb()),2&e&&(J.Cb(9),J.lc("formGroup",t.registerForm),J.Cb(28),J.lc("ngIf",t.successFlag))},directives:[d.a,d.e,d.c,d.h,d.g,d.d,a.x,a.m,a.f,s.c,b.b,a.c,a.l,a.e,a.t,s.b,a.r,a.h,f.b,f.a,W.e,i.k,c.a],styles:["mat-card[_ngcontent-%COMP%]{max-width:650px;margin:2em auto}mat-form-field[_ngcontent-%COMP%]{display:block}"]}),e})();const se=[{path:"",component:te,canActivate:[(()=>{class e{constructor(e,t){this.router=e,this.authenticationService=t}canActivate(e,t){return!!this.authenticationService.currentUserValue||(this.router.navigate(["/employee/login"],{queryParams:{returnUrl:t.url}}),!1)}}return e.\u0275fac=function(t){return new(t||e)(J.Yb(W.c),J.Yb(Q.a))},e.\u0275prov=J.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()]},{path:"login",component:ae},{path:"register",component:ne},{path:"**",redirectTo:""}];let ce=(()=>{class e{}return e.\u0275mod=J.Mb({type:e}),e.\u0275inj=J.Lb({factory:function(t){return new(t||e)},imports:[[W.f.forChild(se)],W.f]}),e})(),le=(()=>{class e{}return e.\u0275mod=J.Mb({type:e}),e.\u0275inj=J.Lb({factory:function(t){return new(t||e)},imports:[[i.c,ce,a.g,o.b,T.l,f.c,n.b,s.e,c.b,l.b,b.c,m.l,u.b,p.a,d.f,h.a,g.c,v.b,U.f,a.s,w.a,E.a,y.e,C.q,O.d,I.a,k.a,x.a,N.a,f.c,F.a,v.b,q.a,A.a,h.a,U.f,M.a,n.b,D.a,c.b,b.c,L.a,j.b,T.l,u.b,B.a,G.a,g.c,T.t,l.b,_.a,R.a,V.a,X.b,p.a,m.l,z.c,Y.a,Z.b,K.a,P.h,S.d]]}),e})()}}]);