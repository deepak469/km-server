function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{vB0e:function(e,t,o){"use strict";o.r(t),o.d(t,"ProfileMenuPageModule",(function(){return At}));var i=o("ofXK"),l=o("3Pt+"),n=o("7EHt"),c=o("kmnG"),a=o("NFeN"),r=o("d3UM"),s=o("qFsG"),d=o("+0xr"),m=o("M9IT"),b=o("Dh3D"),p=o("Wp6s"),u=o("iadO"),f=o("bTqV"),g=o("QibW"),h=o("bSwM"),y=o("0IaG"),R=o("FKr1"),T=o("u47x"),I=o("UXJo"),v=o("5+WD"),k=o("+rOU"),C=o("vxfF"),M=o("B/XX"),U=o("f6nW"),w=o("FvrZ"),A=o("/1cH"),P=o("TU8p"),x=o("2ChS"),S=o("jaxi"),E=o("A5z7"),O=o("xHqg"),K=o("f0Cb"),_=o("zkoq"),D=o("MutI"),N=o("STbY"),V=o("bv9b"),$=o("Xa2L"),B=o("XhcP"),j=o("5RNC"),L=o("1jcm"),F=o("dNgK"),q=o("wZkO"),G=o("/t3+"),z=o("Qu3c"),H=o("8yBR"),W=o("tyNb"),J=o("fXoL"),X=function(e){return[e]},Y=function(){return{exact:!0}};function Z(e,t){if(1&e&&(J.Ub(0,"a",3,4),J.Ec(2),J.Tb()),2&e){var o=t.$implicit,i=J.uc(1);J.lc("routerLink",J.pc(4,X,o.path))("routerLinkActiveOptions",J.oc(6,Y))("active",i.isActive),J.Cb(2),J.Gc(" ",o.name," ")}}var Q,ee=((Q=function(){function e(){_classCallCheck(this,e),this.pages=[{name:"My Profile",path:"/profile/menu/my-profile/"},{name:"Approve & Reject",path:"/profile/menu/approve/"},{name:"Employee",path:"/profile/menu/employee/"}]}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Q)},Q.\u0275cmp=J.Ib({type:Q,selectors:[["app-menu"]],decls:4,vars:1,consts:[[1,"container","bg-common","static-height"],["mat-tab-nav-bar",""],["mat-tab-link","","routerLinkActive","",3,"routerLink","routerLinkActiveOptions","active",4,"ngFor","ngForOf"],["mat-tab-link","","routerLinkActive","",3,"routerLink","routerLinkActiveOptions","active"],["rla","routerLinkActive"]],template:function(e,t){1&e&&(J.Ub(0,"div",0),J.Ub(1,"nav",1),J.Cc(2,Z,3,7,"a",2),J.Tb(),J.Tb(),J.Pb(3,"router-outlet")),2&e&&(J.Cb(2),J.lc("ngForOf",t.pages))},directives:[q.b,i.j,W.g,W.e,q.a,W.d],encapsulation:2}),Q),te=o("SxV6"),oe=o("PSD3"),ie=o.n(oe),le=o("YpDT"),ne=o("w7A6"),ce=o("RU4u"),ae=o("tk/3"),re=o("ZOsW");function se(e,t){if(1&e){var o=J.Vb();J.Ub(0,"button",7),J.cc("click",(function(){return J.wc(o),J.gc().openApproveEmployeeDialog()})),J.Ub(1,"mat-icon"),J.Ec(2,"done_all"),J.Tb(),J.Ec(3," Approve "),J.Tb()}if(2&e){var i=J.gc();J.lc("disabled",0==i.isEmployeeSelected)}}function de(e,t){if(1&e){var o=J.Vb();J.Ub(0,"button",7),J.cc("click",(function(){return J.wc(o),J.gc().openGroupRejectEmployeeDialog()})),J.Ub(1,"mat-icon"),J.Ec(2,"cancel"),J.Tb(),J.Ec(3," Reject "),J.Tb()}if(2&e){var i=J.gc();J.lc("disabled",0==i.isEmployeeSelected)}}function me(e,t){if(1&e){var o=J.Vb();J.Ub(0,"button",8),J.cc("click",(function(){return J.wc(o),J.gc().gridOnOff()})),J.Ub(1,"mat-icon"),J.Ec(2,"grid_on"),J.Tb(),J.Tb()}}function be(e,t){if(1&e){var o=J.Vb();J.Ub(0,"button",8),J.cc("click",(function(){return J.wc(o),J.gc().gridOnOff()})),J.Ub(1,"mat-icon"),J.Ec(2,"grid_off"),J.Tb(),J.Tb()}}function pe(e,t){if(1&e&&(J.Pb(0,"input",19),J.Ec(1)),2&e){var o=t.item,i=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",i.selected),J.Cb(1),J.Gc(" ",o.kmRoleName," ")}}function ue(e,t){1&e&&(J.Ub(0,"mat-error"),J.Ec(1,"KM Roles is required"),J.Tb())}function fe(e,t){if(1&e&&(J.Pb(0,"input",19),J.Ec(1)),2&e){var o=t.item,i=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",i.selected),J.Cb(1),J.Gc(" ",o.skillRollName," ")}}function ge(e,t){1&e&&(J.Ub(0,"mat-error"),J.Ec(1,"IT Roles is required"),J.Tb())}function he(e,t){if(1&e&&(J.Pb(0,"input",19),J.Ec(1," \xa0\xa0"),J.Pb(2,"img",20),J.Ec(3)),2&e){var o=t.item,i=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",i.selected),J.Cb(2),J.mc("src",o.portfolioImage,J.xc),J.Cb(1),J.Gc("\xa0\xa0\xa0 ",o.portfolioSName," ")}}function ye(e,t){1&e&&(J.Ub(0,"mat-error"),J.Ec(1,"Accounts is required"),J.Tb())}function Re(e,t){if(1&e){var o=J.Vb();J.Sb(0),J.Ub(1,"mat-card",10),J.Ub(2,"mat-card-header"),J.Pb(3,"img",11),J.Ub(4,"mat-card-title"),J.Ec(5),J.Tb(),J.Ub(6,"mat-card-subtitle"),J.Ec(7),J.Tb(),J.Tb(),J.Ub(8,"mat-card-content"),J.Ub(9,"p"),J.Ec(10),J.Tb(),J.Ub(11,"table"),J.Ub(12,"tr"),J.Ub(13,"th",12),J.Ec(14,"KM Roles: "),J.Tb(),J.Ub(15,"td",13),J.Ub(16,"ng-select",14),J.cc("ngModelChange",(function(e){return J.wc(o),t.$implicit.selectedKMRoles=e}))("click",(function(){J.wc(o);var e=t.$implicit;return J.gc(2).ngSelectopened(e)})),J.Cc(17,pe,2,3,"ng-template",15),J.Tb(),J.Cc(18,ue,2,0,"mat-error",5),J.Tb(),J.Tb(),J.Ub(19,"tr"),J.Ub(20,"th",12),J.Ec(21,"IT Roles:"),J.Tb(),J.Ub(22,"td"),J.Ub(23,"ng-select",16),J.cc("ngModelChange",(function(e){return J.wc(o),t.$implicit.selectedITRoles=e}))("click",(function(){J.wc(o);var e=t.$implicit;return J.gc(2).ngSelectopened(e)})),J.Cc(24,fe,2,3,"ng-template",15),J.Tb(),J.Cc(25,ge,2,0,"mat-error",5),J.Tb(),J.Tb(),J.Ub(26,"tr"),J.Ub(27,"th",12),J.Ec(28,"Accounts:"),J.Tb(),J.Ub(29,"td"),J.Ub(30,"ng-select",17),J.cc("ngModelChange",(function(e){return J.wc(o),t.$implicit.selectedAccount=e}))("click",(function(){J.wc(o);var e=t.$implicit;return J.gc(2).ngSelectopened(e)})),J.Cc(31,he,4,4,"ng-template",15),J.Tb(),J.Cc(32,ye,2,0,"mat-error",5),J.Tb(),J.Tb(),J.Ub(33,"tr"),J.Ub(34,"td",18),J.Ub(35,"button",8),J.cc("click",(function(){J.wc(o);var e=t.$implicit;return J.gc(2).approve(e)})),J.Ub(36,"mat-icon"),J.Ec(37,"done"),J.Tb(),J.Ec(38," Approve"),J.Tb(),J.Ec(39,"\xa0\xa0 "),J.Ub(40,"button",8),J.cc("click",(function(){J.wc(o);var e=t.$implicit;return J.gc(2).openRejectEmployeeDialog(e)})),J.Ub(41,"mat-icon"),J.Ec(42,"cancel_presentation"),J.Tb(),J.Ec(43," Reject"),J.Tb(),J.Ec(44,"\xa0\xa0 "),J.Tb(),J.Tb(),J.Tb(),J.Tb(),J.Tb(),J.Rb()}if(2&e){var i=t.$implicit,l=J.gc(2);J.Cb(3),J.mc("src",i.empImage,J.xc),J.Cb(2),J.Hc("(",i.ibmEmpId,")\xa0",i.empName,""),J.Cb(2),J.Fc(i.empEmail),J.Cb(3),J.Fc(i.empDescription),J.Cb(6),J.lc("items",l.kmRoles)("multiple",!0)("closeOnSelect",!1)("ngModel",i.selectedKMRoles),J.Cb(2),J.lc("ngIf",i.isKMRolesValid),J.Cb(5),J.lc("items",l.itRoles)("multiple",!0)("closeOnSelect",!1)("ngModel",i.selectedITRoles),J.Cb(2),J.lc("ngIf",i.isITRolesValid),J.Cb(5),J.lc("items",l.accounts)("multiple",!0)("closeOnSelect",!1)("ngModel",i.selectedAccount),J.Cb(2),J.lc("ngIf",i.isAccountsValid)}}function Te(e,t){if(1&e&&(J.Sb(0),J.Cc(1,Re,45,20,"ng-container",9),J.Rb()),2&e){var o=J.gc();J.Cb(1),J.lc("ngForOf",o.employees)}}function Ie(e,t){1&e&&(J.Ub(0,"th",31),J.Ec(1,"Select"),J.Tb())}function ve(e,t){if(1&e){var o=J.Vb();J.Ub(0,"td",32),J.Ub(1,"mat-checkbox",33),J.cc("ngModelChange",(function(e){return J.wc(o),t.$implicit.checked=e}))("change",(function(e){J.wc(o);var i=t.$implicit;return J.gc(2).onSelectClick(e,i.checked)})),J.Tb(),J.Tb()}if(2&e){var i=t.$implicit;J.Cb(1),J.lc("ngModel",i.checked)}}function ke(e,t){1&e&&(J.Ub(0,"th",31),J.Ec(1,"Avatar"),J.Tb())}function Ce(e,t){if(1&e&&(J.Ub(0,"td",32),J.Pb(1,"img",11),J.Tb()),2&e){var o=t.$implicit;J.Cb(1),J.mc("src",o.empImage,J.xc)}}function Me(e,t){1&e&&(J.Ub(0,"th",34),J.Ec(1,"Detail"),J.Tb())}function Ue(e,t){if(1&e&&(J.Ub(0,"td",32),J.Ub(1,"h2"),J.Ec(2),J.Tb(),J.Ub(3,"p"),J.Ec(4),J.Tb(),J.Ub(5,"p"),J.Ec(6,"\xa0"),J.Tb(),J.Tb()),2&e){var o=t.$implicit;J.Cb(2),J.Ic("(",o.ibmEmpId,")\xa0",o.empName,"\xa0|\xa0",o.empEmail,""),J.Cb(2),J.Fc(o.empDescription)}}function we(e,t){1&e&&J.Pb(0,"tr",35)}function Ae(e,t){1&e&&J.Pb(0,"tr",36)}function Pe(e,t){if(1&e&&(J.Ub(0,"div",21),J.Pb(1,"br"),J.Ub(2,"table",22),J.Sb(3,23),J.Cc(4,Ie,2,0,"th",24),J.Cc(5,ve,2,1,"td",25),J.Rb(),J.Sb(6,26),J.Cc(7,ke,2,0,"th",24),J.Cc(8,Ce,2,1,"td",25),J.Rb(),J.Sb(9,27),J.Cc(10,Me,2,0,"th",28),J.Cc(11,Ue,7,4,"td",25),J.Rb(),J.Cc(12,we,1,0,"tr",29),J.Cc(13,Ae,1,0,"tr",30),J.Tb(),J.Tb()),2&e){var o=J.gc();J.Cb(2),J.lc("dataSource",o.dataSource),J.Cb(10),J.lc("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),J.Cb(1),J.lc("matRowDefColumns",o.displayedColumns)}}function xe(e,t){1&e&&(J.Ub(0,"p"),J.Ec(1,"No new employee registration found."),J.Tb())}function Se(e,t){if(1&e&&(J.Pb(0,"input",11),J.Ec(1)),2&e){var o=t.item,i=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",i.selected),J.Cb(1),J.Gc(" ",o.kmRoleName," ")}}function Ee(e,t){if(1&e&&(J.Pb(0,"input",11),J.Ec(1)),2&e){var o=t.item,i=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",i.selected),J.Cb(1),J.Gc(" ",o.skillRollName," ")}}function Oe(e,t){if(1&e&&(J.Pb(0,"input",11),J.Ec(1," \xa0\xa0"),J.Pb(2,"img",12),J.Ec(3)),2&e){var o=t.item,i=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",i.selected),J.Cb(2),J.mc("src",o.portfolioImage,J.xc),J.Cb(1),J.Gc("\xa0\xa0\xa0 ",o.portfolioSName," ")}}var Ke,_e,De,Ne=((De=function(){function e(t,o,i,l,n,c,a){_classCallCheck(this,e),this.formBuilder=t,this.router=o,this.authenticationService=i,this.userService=l,this.alertService=n,this.http=c,this.dialog=a,this.toast=ie.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}),this.isEmployeeSelected=!1,this.loading=!0,this.gridOn=!0,this.isEmployeesLoaded=!1,this.displayedColumns=["select","avatar","detail"],this.employeeUrl="http://localhost:9080/knowledge/management/employee/un-approve",this.kmRoleAPIUrl="http://localhost:9080/knowledge/management/kmrole/",this.itRoleAPIUrl="http://localhost:9080/knowledge/management/skill-role",this.portfolioAPIUrl="http://localhost:9080/knowledge/management/portfolio",this.selectedPeople=[13,14],this.selectedPersonId=[],this.successFlag=!1,this.submitted=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.isEmployeesExist=!1,this.loadEmployee(),this.loadRole(),this.loadITRole(),this.loadportfolio()}},{key:"onSelectClick",value:function(e,t){var o;if(t)this.isEmployeeSelected=!0;else for(this.isEmployeeSelected=!1,o=0;o<this.employees.length;o++)if(this.employees[o].checked){this.isEmployeeSelected=!0;break}}},{key:"loadportfolio",value:function(){var e=this;this.http.get(this.portfolioAPIUrl).subscribe((function(t){e.accounts=t}),(function(e){console.log("error")}))}},{key:"gridOnOff",value:function(){this.gridOn=!this.gridOn}},{key:"loadRole",value:function(){var e=this;this.http.get(this.kmRoleAPIUrl).subscribe((function(t){e.kmRoles=t}),(function(e){console.log("error")}))}},{key:"loadITRole",value:function(){var e=this;this.http.get(this.itRoleAPIUrl).subscribe((function(t){console.log("response --\x3e"+JSON.stringify(t)),e.itRoles=t,e.itRoles=e.itRoles.map((function(e){return{skillRollId:e.skillRollId,skillRollName:e.role.roleName+" - ( "+e.skill.skillName+" )"}}))}),(function(e){console.log("error")}))}},{key:"loadEmployee",value:function(){var e=this;this.http.get(this.employeeUrl).subscribe((function(t){e.isEmployeesLoaded=!0,e.employees=t,e.employees.length>0&&(e.isEmployeesExist=!0),e.dataSource=new d.k(e.employees),e.loading=!1}),(function(e){console.log("error")}))}},{key:"validateRequiredArray",value:function(e){return!(e&&e.length>0)}},{key:"ngSelectopened",value:function(e){e.isKMRolesValid=!1,e.isAccountsValid=!1,e.isITRolesValid=!1}},{key:"approve",value:function(e){var t=this;e.isKMRolesValid=this.validateRequiredArray(e.selectedKMRoles),e.isAccountsValid=this.validateRequiredArray(e.selectedAccount),e.isITRolesValid=this.validateRequiredArray(e.selectedITRoles),console.log("employee.isKMRolesValid ----\x3e"+e.isKMRolesValid),console.log("employee.isAccountsValid ----\x3e"+e.isAccountsValid),console.log("employee.isITRolesValid ----\x3e"+e.isITRolesValid),e.isKMRolesValid||e.isAccountsValid||e.isITRolesValid||(console.log("employee--\x3e"+JSON.stringify(e)),this.profileData={empId:e.empId,approvedStatus:!0,activeStatus:!0,kmRoles:e.selectedKMRoles,accounts:e.selectedAccount,itRoles:e.selectedITRoles},console.log("employee--\x3e"+JSON.stringify(this.profileData)),this.userService.approve(this.profileData).pipe(Object(te.a)()).subscribe((function(o){t.employees.splice(t.employees.indexOf(e),1),t.dataSource.data=t.employees,t.employees.length<1&&(t.isEmployeesExist=!1),t.toast.fire({icon:"success",title:"Employee got approved successfully."})}),(function(e){t.toast.fire({icon:"error",title:"Error at server end please try after sometime"})})))}},{key:"openApproveEmployeeDialog",value:function(){var e=this;this.isEmployeeSelected=!1,this.dialog.open(Ve,{width:"650px",height:"500px",data:{kmRoles:this.kmRoles,itRoles:this.itRoles,accounts:this.accounts,selectedAccount:[],selectedKMRoles:[],selectedITRoles:[]}}).afterClosed().subscribe((function(t){var o;if(console.log("The dialog was closed"+JSON.stringify(t)),t)for(o=0;o<e.employees.length;o++)e.employees[o].checked&&(e.employees[o].selectedKMRoles=t.selectedKMRoles,e.employees[o].selectedAccount=t.selectedAccount,e.employees[o].selectedITRoles=t.selectedITRoles,e.approve(e.employees[o]));else e.isEmployeeSelected=!0}))}},{key:"performRejectOperation",value:function(e,t){var o=this;console.log("employee--\x3e"+JSON.stringify(e)),this.profileData={empId:e.empId,rejectStatus:!0,remarks:t.remarks},console.log("indexOf->"+this.employees.indexOf(e)),this.userService.reject(this.profileData).pipe(Object(te.a)()).subscribe((function(t){o.employees.splice(o.employees.indexOf(e),1),o.dataSource.data=o.employees,o.employees.length<1&&(o.isEmployeesExist=!1),o.toast.fire({icon:"success",title:"Employee got rejected successfully."})}),(function(e){o.toast.fire({icon:"error",title:"Error at server end please try after sometime"})}))}},{key:"openRejectEmployeeDialog",value:function(e){var t=this;this.dialog.open($e,{width:"450px",data:{remarks:""}}).afterClosed().subscribe((function(o){console.log("The dialog was closed"+JSON.stringify(o)),o&&t.performRejectOperation(e,o)}))}},{key:"openGroupRejectEmployeeDialog",value:function(){var e=this;this.isEmployeeSelected=!1,this.dialog.open($e,{width:"450px",data:{remarks:""}}).afterClosed().subscribe((function(t){var o;if(console.log("The dialog was closed"+JSON.stringify(t)),t)for(o=0;o<e.employees.length;o++)e.employees[o].checked&&e.performRejectOperation(e.employees[o],t);else e.isEmployeeSelected=!0}))}}]),e}()).\u0275fac=function(e){return new(e||De)(J.Ob(l.d),J.Ob(W.c),J.Ob(le.a),J.Ob(ne.a),J.Ob(ce.a),J.Ob(ae.b),J.Ob(y.b))},De.\u0275cmp=J.Ib({type:De,selectors:[["ng-component"]],decls:21,vars:9,consts:[[1,"container","bg-common","static-height"],[1,"border_bottom"],[2,"text-align","right"],["mat-stroked-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-stroked-button","","color","primary",3,"click",4,"ngIf"],[4,"ngIf"],["class","table-container",4,"ngIf"],["mat-stroked-button","","color","primary",3,"disabled","click"],["mat-stroked-button","","color","primary",3,"click"],[4,"ngFor","ngForOf"],[1,"example-card"],["mat-card-avatar","","alt","Avatar",3,"src"],[1,"tdlebel"],["colspan","2"],["bindLabel","kmRoleName","bindValue","kmRoleId","required","",3,"items","multiple","closeOnSelect","ngModel","ngModelChange","click"],["ng-option-tmp",""],["bindLabel","skillRollName","bindValue","skillRollId","required","",3,"items","multiple","closeOnSelect","ngModel","ngModelChange","click"],["bindLabel","portfolioSName","bindValue","portfolioId","required","",3,"items","multiple","closeOnSelect","ngModel","ngModelChange","click"],["colspan","2",2,"text-align","center"],["type","checkbox",3,"id","ngModel"],[1,"Avatarimg",3,"src"],[1,"table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","class","select-cell-width",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","avatar"],["matColumnDef","detail"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"select-cell-width"],["mat-cell",""],[3,"ngModel","ngModelChange","change"],["mat-header-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(J.Ub(0,"div",0),J.Pb(1,"br"),J.Ub(2,"table"),J.Ub(3,"tr",1),J.Ub(4,"td"),J.Ub(5,"h1"),J.Ec(6,"Approve & Reject Registered Employee"),J.Tb(),J.Tb(),J.Ub(7,"td",2),J.Cc(8,se,4,1,"button",3),J.Ec(9," \xa0 "),J.Cc(10,de,4,1,"button",3),J.Ec(11," \xa0 "),J.Cc(12,me,3,0,"button",4),J.Cc(13,be,3,0,"button",4),J.Tb(),J.Tb(),J.Tb(),J.Cc(14,Te,2,1,"ng-container",5),J.Cc(15,Pe,14,4,"div",6),J.Cc(16,xe,2,0,"p",5),J.Pb(17,"br"),J.Pb(18,"br"),J.Pb(19,"br"),J.Pb(20,"br"),J.Tb()),2&e&&(J.Cb(5),J.Fb("spinner",t.loading),J.Cb(3),J.lc("ngIf",1==t.isEmployeesExist&&1==t.isEmployeesLoaded&&0==t.gridOn),J.Cb(2),J.lc("ngIf",1==t.isEmployeesExist&&1==t.isEmployeesLoaded&&0==t.gridOn),J.Cb(2),J.lc("ngIf",1==t.isEmployeesExist&&1==t.isEmployeesLoaded&&1==t.gridOn),J.Cb(1),J.lc("ngIf",1==t.isEmployeesExist&&1==t.isEmployeesLoaded&&0==t.gridOn),J.Cb(1),J.lc("ngIf",t.gridOn),J.Cb(1),J.lc("ngIf",1==t.isEmployeesExist&&0==t.gridOn),J.Cb(1),J.lc("ngIf",0==t.isEmployeesExist&&1==t.isEmployeesLoaded))},directives:[i.k,f.b,a.a,i.j,p.a,p.e,p.c,p.h,p.g,p.d,re.a,l.t,l.l,l.o,re.c,l.a,c.b,d.j,d.c,d.e,d.b,d.g,d.i,d.d,d.a,h.a,d.f,d.h],styles:['mat-card[_ngcontent-%COMP%]{max-width:100%;margin:2em auto}mat-form-field[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%}.Avatarimg[_ngcontent-%COMP%]{border-radius:50%;width:30px;height:30px}tr.border_bottom[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #000}.tdlebel[_ngcontent-%COMP%]{font-size:16px;font-weight:400;font-family:IBM Plex Sans Medium;padding:4px;margin:0;vertical-align:center;width:120px}.select-cell-width[_ngcontent-%COMP%]{width:80px}tr.mat-header-row[_ngcontent-%COMP%]{font-weight:700;height:50px!important;font-size:14px;background:#dbd8d8}tr.mat-row[_ngcontent-%COMP%]{height:35px!important}.example-card[_ngcontent-%COMP%]{max-width:50%;min-width:45%;margin-right:25px;margin-top:25px;float:left}@-webkit-keyframes spinner{to{transform:rotate(1turn)}}@keyframes spinner{to{transform:rotate(1turn)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#000;-webkit-animation:spinner .8s linear infinite;animation:spinner .8s linear infinite}']}),De),Ve=((_e=function(){function e(t,o){_classCallCheck(this,e),this.dialogRef=t,this.data=o}return _createClass(e,[{key:"onNoClick",value:function(){this.dialogRef.close()}}]),e}()).\u0275fac=function(e){return new(e||_e)(J.Ob(y.g),J.Ob(y.a))},_e.\u0275cmp=J.Ib({type:_e,selectors:[["ng-component"]],decls:38,vars:14,consts:[["mat-dialog-title",""],[1,"tdlebel"],["colspan","2"],["bindLabel","kmRoleName","bindValue","kmRoleId","required","",3,"items","multiple","closeOnSelect","ngModel","ngModelChange"],["ng-option-tmp",""],["bindLabel","skillRollName","bindValue","skillRollId","required","",3,"items","multiple","closeOnSelect","ngModel","ngModelChange"],["bindLabel","portfolioSName","bindValue","portfolioId","required","",3,"items","multiple","closeOnSelect","ngModel","ngModelChange"],["colspan","2",2,"text-align","center"],["mat-dialog-actions","","align","center"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","","color","primary",3,"mat-dialog-close","disabled"],["type","checkbox",3,"id","ngModel"],[1,"Avatarimg",3,"src"]],template:function(e,t){1&e&&(J.Ub(0,"h1",0),J.Ec(1,"Approve Employee"),J.Tb(),J.Pb(2,"hr"),J.Ub(3,"table"),J.Ub(4,"tr"),J.Ub(5,"th",1),J.Ub(6,"mat-error"),J.Ec(7,"*"),J.Tb(),J.Ec(8,"KM Roles:"),J.Tb(),J.Ub(9,"td",2),J.Ub(10,"ng-select",3),J.cc("ngModelChange",(function(e){return t.data.selectedKMRoles=e})),J.Cc(11,Se,2,3,"ng-template",4),J.Tb(),J.Tb(),J.Tb(),J.Ub(12,"tr"),J.Ub(13,"th",1),J.Ub(14,"mat-error"),J.Ec(15,"*"),J.Tb(),J.Ec(16,"IT Roles:"),J.Tb(),J.Ub(17,"td"),J.Ub(18,"ng-select",5),J.cc("ngModelChange",(function(e){return t.data.selectedITRoles=e})),J.Cc(19,Ee,2,3,"ng-template",4),J.Tb(),J.Tb(),J.Tb(),J.Ub(20,"tr"),J.Ub(21,"th",1),J.Ub(22,"mat-error"),J.Ec(23,"*"),J.Tb(),J.Ec(24,"Accounts:"),J.Tb(),J.Ub(25,"td"),J.Ub(26,"ng-select",6),J.cc("ngModelChange",(function(e){return t.data.selectedAccount=e})),J.Cc(27,Oe,4,4,"ng-template",4),J.Tb(),J.Tb(),J.Tb(),J.Ub(28,"tr"),J.Pb(29,"td",7),J.Tb(),J.Tb(),J.Pb(30,"hr"),J.Ub(31,"div",8),J.Ub(32,"button",9),J.cc("click",(function(){return t.onNoClick()})),J.Ec(33,"Cancel"),J.Tb(),J.Ub(34,"button",10),J.Ub(35,"mat-icon"),J.Ec(36,"done_all"),J.Tb(),J.Ec(37," Approve "),J.Tb(),J.Tb()),2&e&&(J.Cb(10),J.lc("items",t.data.kmRoles)("multiple",!0)("closeOnSelect",!1)("ngModel",t.data.selectedKMRoles),J.Cb(8),J.lc("items",t.data.itRoles)("multiple",!0)("closeOnSelect",!1)("ngModel",t.data.selectedITRoles),J.Cb(8),J.lc("items",t.data.accounts)("multiple",!0)("closeOnSelect",!1)("ngModel",t.data.selectedAccount),J.Cb(8),J.lc("mat-dialog-close",t.data)("disabled",t.data.selectedITRoles.length<1||t.data.selectedKMRoles.length<1||t.data.selectedAccount.length<1))},directives:[y.h,c.b,re.a,l.t,l.l,l.o,re.c,y.c,f.b,y.d,a.a,l.a],styles:['mat-card[_ngcontent-%COMP%]{max-width:100%;margin:2em auto}mat-form-field[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%}.Avatarimg[_ngcontent-%COMP%]{border-radius:50%;width:30px;height:30px}tr.border_bottom[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #000}.tdlebel[_ngcontent-%COMP%]{font-size:16px;font-weight:400;font-family:IBM Plex Sans Medium;padding:4px;margin:0;vertical-align:center;width:120px}.select-cell-width[_ngcontent-%COMP%]{width:80px}tr.mat-header-row[_ngcontent-%COMP%]{font-weight:700;height:50px!important;font-size:14px;background:#dbd8d8}tr.mat-row[_ngcontent-%COMP%]{height:35px!important}.example-card[_ngcontent-%COMP%]{max-width:50%;min-width:45%;margin-right:25px;margin-top:25px;float:left}@-webkit-keyframes spinner{to{transform:rotate(1turn)}}@keyframes spinner{to{transform:rotate(1turn)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#000;-webkit-animation:spinner .8s linear infinite;animation:spinner .8s linear infinite}']}),_e),$e=((Ke=function(){function e(t,o){_classCallCheck(this,e),this.dialogRef=t,this.data=o}return _createClass(e,[{key:"onNoClick",value:function(){this.dialogRef.close()}}]),e}()).\u0275fac=function(e){return new(e||Ke)(J.Ob(y.g),J.Ob(y.a))},Ke.\u0275cmp=J.Ib({type:Ke,selectors:[["ng-component"]],decls:13,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"full-width-input"],["matInput","","placeholder","Reject Reason ...","rows","5",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","center"],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,t){1&e&&(J.Ub(0,"h1",0),J.Ec(1,"Reject Dialog"),J.Tb(),J.Ub(2,"div",1),J.Ub(3,"mat-form-field",2),J.Ub(4,"textarea",3),J.cc("ngModelChange",(function(e){return t.data.remarks=e})),J.Tb(),J.Ub(5,"mat-error"),J.Ec(6," Please provide Reject Reason. "),J.Tb(),J.Tb(),J.Tb(),J.Pb(7,"hr"),J.Ub(8,"div",4),J.Ub(9,"button",5),J.cc("click",(function(){return t.onNoClick()})),J.Ec(10,"Cancel"),J.Tb(),J.Ub(11,"button",6),J.Ec(12,"Ok"),J.Tb(),J.Tb()),2&e&&(J.Cb(4),J.lc("ngModel",t.data.remarks),J.Cb(7),J.lc("mat-dialog-close",t.data))},directives:[y.h,y.e,c.c,s.b,l.c,l.l,l.o,c.b,y.c,f.b,y.d],styles:['mat-card[_ngcontent-%COMP%]{max-width:100%;margin:2em auto}mat-form-field[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%}.Avatarimg[_ngcontent-%COMP%]{border-radius:50%;width:30px;height:30px}tr.border_bottom[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #000}.tdlebel[_ngcontent-%COMP%]{font-size:16px;font-weight:400;font-family:IBM Plex Sans Medium;padding:4px;margin:0;vertical-align:center;width:120px}.select-cell-width[_ngcontent-%COMP%]{width:80px}tr.mat-header-row[_ngcontent-%COMP%]{font-weight:700;height:50px!important;font-size:14px;background:#dbd8d8}tr.mat-row[_ngcontent-%COMP%]{height:35px!important}.example-card[_ngcontent-%COMP%]{max-width:50%;min-width:45%;margin-right:25px;margin-top:25px;float:left}@-webkit-keyframes spinner{to{transform:rotate(1turn)}}@keyframes spinner{to{transform:rotate(1turn)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#000;-webkit-animation:spinner .8s linear infinite;animation:spinner .8s linear infinite}']}),Ke),Be=o("jold"),je=o("DhMS");function Le(e,t){if(1&e&&(J.Ub(0,"td",18),J.Ec(1),J.Tb()),2&e){var o=t.$implicit;J.Cb(1),J.Hc(" ",o.skillRoll.role.roleName," - ( ",o.skillRoll.skill.skillName," ) ")}}function Fe(e,t){if(1&e){var o=J.Vb();J.Ub(0,"td",18),J.Ub(1,"button",19),J.cc("click",(function(){J.wc(o);var e=t.$implicit;return J.gc(2).deleteITRoleDialog(e)})),J.Ub(2,"mat-icon"),J.Ec(3,"clear"),J.Tb(),J.Tb(),J.Tb()}}function qe(e,t){1&e&&J.Pb(0,"tr",20)}function Ge(e,t){if(1&e&&(J.Pb(0,"input",23),J.Ec(1)),2&e){var o=t.item,i=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",i.selected),J.Cb(1),J.Gc(" ",o.skillRollName," ")}}function ze(e,t){if(1&e){var o=J.Vb();J.Sb(0),J.Ub(1,"ng-select",21),J.cc("ngModelChange",(function(e){return J.wc(o),J.gc(2).employee.selectedITRoles=e})),J.Cc(2,Ge,2,3,"ng-template",22),J.Tb(),J.Ub(3,"button",3),J.cc("click",(function(){return J.wc(o),J.gc(2).createITRole()})),J.Ub(4,"mat-icon"),J.Ec(5,"save"),J.Tb(),J.Tb(),J.Ec(6,"\xa0 "),J.Ub(7,"button",3),J.cc("click",(function(){return J.wc(o),J.gc(2).setAddITRole()})),J.Ub(8,"mat-icon"),J.Ec(9,"clear"),J.Tb(),J.Tb(),J.Rb()}if(2&e){var i=J.gc(2);J.Cb(1),J.lc("items",i.itRoles)("multiple",!0)("closeOnSelect",!1)("ngModel",i.employee.selectedITRoles)}}function He(e,t){if(1&e&&(J.Ub(0,"td",18),J.Ec(1),J.Tb()),2&e){var o=t.$implicit;J.Cb(1),J.Gc(" ",o.kmRole.kmRoleName," ")}}function We(e,t){if(1&e){var o=J.Vb();J.Ub(0,"td",18),J.Ub(1,"button",19),J.cc("click",(function(){J.wc(o);var e=t.$implicit;return J.gc(2).deleteKMRoleDialog(e)})),J.Ub(2,"mat-icon"),J.Ec(3,"clear"),J.Tb(),J.Tb(),J.Tb()}}function Je(e,t){1&e&&J.Pb(0,"tr",20)}function Xe(e,t){if(1&e&&(J.Pb(0,"input",23),J.Ec(1)),2&e){var o=t.item,i=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",i.selected),J.Cb(1),J.Gc(" ",o.kmRoleName," ")}}function Ye(e,t){if(1&e){var o=J.Vb();J.Sb(0),J.Ub(1,"ng-select",24),J.cc("ngModelChange",(function(e){return J.wc(o),J.gc(2).employee.selectedKMRoles=e})),J.Cc(2,Xe,2,3,"ng-template",22),J.Tb(),J.Ub(3,"button",3),J.cc("click",(function(){return J.wc(o),J.gc(2).createKMRole()})),J.Ub(4,"mat-icon"),J.Ec(5,"save"),J.Tb(),J.Tb(),J.Ec(6,"\xa0 "),J.Ub(7,"button",3),J.cc("click",(function(){return J.wc(o),J.gc(2).setAddKMRole()})),J.Ub(8,"mat-icon"),J.Ec(9,"clear"),J.Tb(),J.Tb(),J.Rb()}if(2&e){var i=J.gc(2);J.Cb(1),J.lc("items",i.kmRoles)("multiple",!0)("closeOnSelect",!1)("ngModel",i.employee.selectedKMRoles)}}function Ze(e,t){if(1&e&&(J.Ub(0,"td",18),J.Pb(1,"img",25),J.Ec(2),J.Tb()),2&e){var o=t.$implicit;J.Cb(1),J.mc("src",o.portfolio.portfolioImage,J.xc),J.Cb(1),J.Gc(" \xa0 ",o.portfolio.portfolioSName," ")}}function Qe(e,t){if(1&e){var o=J.Vb();J.Ub(0,"td",18),J.Ub(1,"button",19),J.cc("click",(function(){J.wc(o);var e=t.$implicit;return J.gc(2).deleteAccountDialog(e)})),J.Ub(2,"mat-icon"),J.Ec(3,"clear"),J.Tb(),J.Tb(),J.Tb()}}function et(e,t){1&e&&J.Pb(0,"tr",20)}function tt(e,t){if(1&e&&(J.Pb(0,"input",23),J.Ec(1," \xa0\xa0"),J.Pb(2,"img",25),J.Ec(3)),2&e){var o=t.item,i=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",i.selected),J.Cb(2),J.mc("src",o.portfolioImage,J.xc),J.Cb(1),J.Gc("\xa0\xa0\xa0 ",o.portfolioSName," ")}}function ot(e,t){if(1&e){var o=J.Vb();J.Sb(0),J.Ub(1,"ng-select",26),J.cc("ngModelChange",(function(e){return J.wc(o),J.gc(2).employee.selectedAccount=e})),J.Cc(2,tt,4,4,"ng-template",22),J.Tb(),J.Ub(3,"button",3),J.cc("click",(function(){return J.wc(o),J.gc(2).createAccount()})),J.Ub(4,"mat-icon"),J.Ec(5,"save"),J.Tb(),J.Tb(),J.Ec(6,"\xa0 "),J.Ub(7,"button",3),J.cc("click",(function(){return J.wc(o),J.gc(2).setAddAccount()})),J.Ub(8,"mat-icon"),J.Ec(9,"clear"),J.Tb(),J.Tb(),J.Rb()}if(2&e){var i=J.gc(2);J.Cb(1),J.lc("items",i.accounts)("multiple",!0)("closeOnSelect",!1)("ngModel",i.employee.selectedAccount)}}function it(e,t){if(1&e){var o=J.Vb();J.Sb(0),J.Ub(1,"mat-card",5),J.Ub(2,"mat-card-header"),J.Pb(3,"img",6),J.Ub(4,"mat-card-title"),J.Ec(5),J.Tb(),J.Ub(6,"mat-card-subtitle"),J.Ec(7),J.Tb(),J.Ub(8,"button",7),J.cc("click",(function(){return J.wc(o),J.gc().enableEditBlock()})),J.Ub(9,"mat-icon"),J.Ec(10,"edit"),J.Tb(),J.Tb(),J.Tb(),J.Ub(11,"mat-card-content"),J.Ub(12,"p"),J.Ec(13),J.Tb(),J.Pb(14,"hr"),J.Ub(15,"div",8),J.Ub(16,"mat-card",9),J.Ub(17,"mat-card-header"),J.Pb(18,"img",10),J.Ub(19,"mat-card-title"),J.Ec(20,"IT Role"),J.Tb(),J.Ub(21,"mat-card-subtitle"),J.Ec(22,"Project Specific Role"),J.Tb(),J.Ub(23,"button",7),J.cc("click",(function(){return J.wc(o),J.gc().setAddITRole()})),J.Ub(24,"mat-icon"),J.Ec(25,"add"),J.Tb(),J.Tb(),J.Tb(),J.Ub(26,"mat-card-content"),J.Ub(27,"table",11),J.Sb(28,12),J.Cc(29,Le,2,2,"td",13),J.Rb(),J.Sb(30,14),J.Cc(31,Fe,4,0,"td",13),J.Rb(),J.Cc(32,qe,1,0,"tr",15),J.Tb(),J.Cc(33,ze,10,4,"ng-container",4),J.Tb(),J.Tb(),J.Ub(34,"mat-card",9),J.Ub(35,"mat-card-header"),J.Pb(36,"img",16),J.Ub(37,"mat-card-title"),J.Ec(38,"KM Role"),J.Tb(),J.Ub(39,"mat-card-subtitle"),J.Ec(40,"KM System Specific Role"),J.Tb(),J.Ub(41,"button",7),J.cc("click",(function(){return J.wc(o),J.gc().setAddKMRole()})),J.Ub(42,"mat-icon"),J.Ec(43,"add"),J.Tb(),J.Tb(),J.Tb(),J.Ub(44,"mat-card-content"),J.Ub(45,"table",11),J.Sb(46,12),J.Cc(47,He,2,1,"td",13),J.Rb(),J.Sb(48,14),J.Cc(49,We,4,0,"td",13),J.Rb(),J.Cc(50,Je,1,0,"tr",15),J.Tb(),J.Cc(51,Ye,10,4,"ng-container",4),J.Tb(),J.Tb(),J.Ub(52,"mat-card",9),J.Ub(53,"mat-card-header"),J.Pb(54,"img",17),J.Ub(55,"mat-card-title"),J.Ec(56,"Account"),J.Tb(),J.Ub(57,"mat-card-subtitle"),J.Ec(58,"Client Name"),J.Tb(),J.Ub(59,"button",7),J.cc("click",(function(){return J.wc(o),J.gc().setAddAccount()})),J.Ub(60,"mat-icon"),J.Ec(61,"add"),J.Tb(),J.Tb(),J.Tb(),J.Ub(62,"mat-card-content"),J.Ub(63,"table",11),J.Sb(64,12),J.Cc(65,Ze,3,2,"td",13),J.Rb(),J.Sb(66,14),J.Cc(67,Qe,4,0,"td",13),J.Rb(),J.Cc(68,et,1,0,"tr",15),J.Tb(),J.Cc(69,ot,10,4,"ng-container",4),J.Tb(),J.Tb(),J.Tb(),J.Tb(),J.Tb(),J.Rb()}if(2&e){var i=J.gc();J.Cb(3),J.mc("src",i.employee.empImage,J.xc),J.Cb(2),J.Hc("(",i.userData.userId,")\xa0",i.userData.fullName,""),J.Cb(2),J.Fc(i.userData.emailAddress),J.Cb(6),J.Fc(i.employee.empDescription),J.Cb(14),J.lc("dataSource",i.dataSourceITRoles),J.Cb(5),J.lc("matRowDefColumns",i.displayedColumns),J.Cb(1),J.lc("ngIf",i.addITRole),J.Cb(12),J.lc("dataSource",i.dataSourceKMRoles),J.Cb(5),J.lc("matRowDefColumns",i.displayedColumns),J.Cb(1),J.lc("ngIf",i.addKMRole),J.Cb(12),J.lc("dataSource",i.dataSourceAccounts),J.Cb(5),J.lc("matRowDefColumns",i.displayedColumns),J.Cb(1),J.lc("ngIf",i.addAccount)}}function lt(e,t){if(1&e){var o=J.Vb();J.Sb(0),J.Ub(1,"mat-card",27),J.Ub(2,"mat-card-header"),J.Pb(3,"img",6),J.Ub(4,"mat-card-title"),J.Ec(5),J.Tb(),J.Ub(6,"mat-card-subtitle"),J.Ec(7),J.Tb(),J.Tb(),J.Ub(8,"mat-card-content"),J.Ub(9,"form",28),J.cc("ngSubmit",(function(){return J.wc(o),J.gc().onSubmit()})),J.Ub(10,"mat-form-field",29),J.Pb(11,"input",30),J.Tb(),J.Ub(12,"mat-form-field",29),J.Pb(13,"textarea",31),J.Tb(),J.Pb(14,"br"),J.Ub(15,"button",32),J.Ub(16,"mat-icon"),J.Ec(17,"save"),J.Tb(),J.Ec(18,"Save"),J.Tb(),J.Ec(19," \xa0\xa0 "),J.Ub(20,"button",3),J.cc("click",(function(){return J.wc(o),J.gc().enableEditBlock()})),J.Ub(21,"mat-icon"),J.Ec(22,"clear"),J.Tb(),J.Ec(23,"Cancel"),J.Tb(),J.Tb(),J.Tb(),J.Tb(),J.Rb()}if(2&e){var i=J.gc();J.Cb(3),J.mc("src",i.employee.empImage,J.xc),J.Cb(2),J.Hc("(",i.employee.ibmEmpId,")\xa0",i.employee.empName,""),J.Cb(2),J.Fc(i.employee.empEmail),J.Cb(2),J.lc("formGroup",i.registerForm)}}function nt(e,t){1&e&&(J.Ub(0,"h5"),J.Ub(1,"mat-icon",35),J.Ec(2,"highlight_off"),J.Tb(),J.Ec(3,"Server Error (Invalid Input)"),J.Tb())}function ct(e,t){if(1&e){var o=J.Vb();J.Sb(0),J.Ub(1,"mat-card"),J.Ub(2,"mat-card-header"),J.Pb(3,"img",6),J.Ub(4,"mat-card-title"),J.Ec(5),J.Tb(),J.Ub(6,"mat-card-subtitle"),J.Ec(7),J.Tb(),J.Tb(),J.Ub(8,"mat-card-content"),J.Ub(9,"form",28),J.cc("ngSubmit",(function(){return J.wc(o),J.gc().onPasswordSubmit()})),J.Ub(10,"mat-form-field",29),J.Pb(11,"input",33),J.Ub(12,"mat-error"),J.Ec(13," Please provide a valid password "),J.Tb(),J.Tb(),J.Ub(14,"mat-form-field",29),J.Pb(15,"input",34),J.Ub(16,"mat-error"),J.Ec(17," Please provide a valid password "),J.Tb(),J.Tb(),J.Pb(18,"br"),J.Pb(19,"br"),J.Ub(20,"button",32),J.Ub(21,"mat-icon"),J.Ec(22,"save"),J.Tb(),J.Ec(23,"Save"),J.Tb(),J.Ec(24," \xa0\xa0 "),J.Ub(25,"button",3),J.cc("click",(function(){return J.wc(o),J.gc().enableChangePassword()})),J.Ub(26,"mat-icon"),J.Ec(27,"clear"),J.Tb(),J.Ec(28,"Cancel"),J.Tb(),J.Pb(29,"br"),J.Pb(30,"br"),J.Cc(31,nt,4,0,"h5",4),J.Tb(),J.Tb(),J.Tb(),J.Rb()}if(2&e){var i=J.gc();J.Cb(3),J.mc("src",i.employee.empImage,J.xc),J.Cb(2),J.Hc("(",i.employee.ibmEmpId,")\xa0",i.employee.empName,""),J.Cb(2),J.Fc(i.employee.empEmail),J.Cb(2),J.lc("formGroup",i.passwordForm),J.Cb(22),J.lc("ngIf",i.passwordError)}}function at(e,t){if(1&e&&(J.Ub(0,"mat-expansion-panel-header",20),J.Ub(1,"mat-panel-title",21),J.Ec(2),J.Tb(),J.Ub(3,"mat-panel-description"),J.Ec(4),J.Pb(5,"img",22),J.Tb(),J.Tb()),2&e){var o=J.gc().$implicit,i=J.gc();J.Cb(2),J.Hc(" (",i.userData.userId,")\xa0",i.userData.fullName," "),J.Cb(2),J.Gc(" ",i.userData.emailAddress," "),J.Cb(1),J.mc("src",o.empImage,J.xc)}}function rt(e,t){if(1&e&&(J.Ub(0,"td",23),J.Ec(1),J.Tb()),2&e){var o=t.$implicit;J.Cb(1),J.Hc(" ",o.skillRoll.role.roleName," - ( ",o.skillRoll.skill.skillName," ) ")}}function st(e,t){if(1&e){var o=J.Vb();J.Ub(0,"td",23),J.Ub(1,"button",24),J.cc("click",(function(){J.wc(o);var e=t.$implicit;return J.gc(2).deleteITRoleDialog(e)})),J.Ub(2,"mat-icon"),J.Ec(3,"clear"),J.Tb(),J.Tb(),J.Tb()}}function dt(e,t){1&e&&J.Pb(0,"tr",25)}function mt(e,t){if(1&e&&(J.Pb(0,"input",29),J.Ec(1)),2&e){var o=t.item,i=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",i.selected),J.Cb(1),J.Gc(" ",o.skillRollName," ")}}function bt(e,t){if(1&e){var o=J.Vb();J.Sb(0),J.Ub(1,"ng-select",26),J.cc("ngModelChange",(function(e){return J.wc(o),J.gc().$implicit.selectedITRoles=e})),J.Cc(2,mt,2,3,"ng-template",27),J.Tb(),J.Ub(3,"button",28),J.cc("click",(function(){return J.wc(o),J.gc(2).createITRole()})),J.Ub(4,"mat-icon"),J.Ec(5,"save"),J.Tb(),J.Tb(),J.Ec(6,"\xa0 "),J.Ub(7,"button",19),J.cc("click",(function(){J.wc(o);var e=J.gc().$implicit;return J.gc().setAddITRole(e)})),J.Ub(8,"mat-icon"),J.Ec(9,"clear"),J.Tb(),J.Tb(),J.Rb()}if(2&e){var i=J.gc().$implicit,l=J.gc();J.Cb(1),J.lc("items",l.itRoles)("multiple",!0)("closeOnSelect",!1)("ngModel",i.selectedITRoles)}}function pt(e,t){if(1&e&&(J.Ub(0,"td",23),J.Ec(1),J.Tb()),2&e){var o=t.$implicit;J.Cb(1),J.Gc(" ",o.kmRole.kmRoleName," ")}}function ut(e,t){if(1&e){var o=J.Vb();J.Ub(0,"td",23),J.Ub(1,"button",24),J.cc("click",(function(){J.wc(o);var e=t.$implicit;return J.gc(2).deleteKMRoleDialog(e)})),J.Ub(2,"mat-icon"),J.Ec(3,"clear"),J.Tb(),J.Tb(),J.Tb()}}function ft(e,t){1&e&&J.Pb(0,"tr",25)}function gt(e,t){if(1&e&&(J.Pb(0,"input",29),J.Ec(1)),2&e){var o=t.item,i=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",i.selected),J.Cb(1),J.Gc(" ",o.kmRoleName," ")}}function ht(e,t){if(1&e){var o=J.Vb();J.Sb(0),J.Ub(1,"ng-select",30),J.cc("ngModelChange",(function(e){return J.wc(o),J.gc().$implicit.selectedKMRoles=e})),J.Cc(2,gt,2,3,"ng-template",27),J.Tb(),J.Ub(3,"button",19),J.cc("click",(function(){return J.wc(o),J.gc(2).createKMRole()})),J.Ub(4,"mat-icon"),J.Ec(5,"save"),J.Tb(),J.Tb(),J.Ec(6,"\xa0 "),J.Ub(7,"button",19),J.cc("click",(function(){J.wc(o);var e=J.gc().$implicit;return J.gc().setAddKMRole(e)})),J.Ub(8,"mat-icon"),J.Ec(9,"clear"),J.Tb(),J.Tb(),J.Rb()}if(2&e){var i=J.gc().$implicit,l=J.gc();J.Cb(1),J.lc("items",l.kmRoles)("multiple",!0)("closeOnSelect",!1)("ngModel",i.selectedKMRoles)}}function yt(e,t){if(1&e&&(J.Ub(0,"td",23),J.Pb(1,"img",31),J.Ec(2),J.Tb()),2&e){var o=t.$implicit;J.Cb(1),J.mc("src",o.portfolio.portfolioImage,J.xc),J.Cb(1),J.Gc(" \xa0 ",o.portfolio.portfolioSName," ")}}function Rt(e,t){if(1&e){var o=J.Vb();J.Ub(0,"td",23),J.Ub(1,"button",24),J.cc("click",(function(){J.wc(o);var e=t.$implicit;return J.gc(2).deleteAccountDialog(e)})),J.Ub(2,"mat-icon"),J.Ec(3,"clear"),J.Tb(),J.Tb(),J.Tb()}}function Tt(e,t){1&e&&J.Pb(0,"tr",25)}function It(e,t){if(1&e&&(J.Pb(0,"input",29),J.Ec(1," \xa0\xa0"),J.Pb(2,"img",31),J.Ec(3)),2&e){var o=t.item,i=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",i.selected),J.Cb(2),J.mc("src",o.portfolioImage,J.xc),J.Cb(1),J.Gc("\xa0\xa0\xa0 ",o.portfolioSName," ")}}function vt(e,t){if(1&e){var o=J.Vb();J.Sb(0),J.Ub(1,"ng-select",32),J.cc("ngModelChange",(function(e){return J.wc(o),J.gc().$implicit.selectedAccount=e})),J.Cc(2,It,4,4,"ng-template",27),J.Tb(),J.Ub(3,"button",19),J.cc("click",(function(){return J.wc(o),J.gc(2).createAccount()})),J.Ub(4,"mat-icon"),J.Ec(5,"save"),J.Tb(),J.Tb(),J.Ec(6,"\xa0 "),J.Ub(7,"button",19),J.cc("click",(function(){J.wc(o);var e=J.gc().$implicit;return J.gc().setAddAccount(e)})),J.Ub(8,"mat-icon"),J.Ec(9,"clear"),J.Tb(),J.Tb(),J.Rb()}if(2&e){var i=J.gc().$implicit,l=J.gc();J.Cb(1),J.lc("items",l.accounts)("multiple",!0)("closeOnSelect",!1)("ngModel",i.selectedAccount)}}function kt(e,t){if(1&e){var o=J.Vb();J.Ub(0,"mat-expansion-panel",4),J.cc("opened",(function(){J.wc(o);var e=t.$implicit;return J.gc().fetchGeneralInfo(e)})),J.Cc(1,at,6,4,"mat-expansion-panel-header",5),J.Ub(2,"p"),J.Ub(3,"u"),J.Ec(4,"@About"),J.Tb(),J.Ec(5),J.Tb(),J.Ub(6,"div",6),J.Ub(7,"mat-card",7),J.Ub(8,"mat-card-header"),J.Pb(9,"img",8),J.Ub(10,"mat-card-title"),J.Ec(11,"IT Role"),J.Tb(),J.Ub(12,"mat-card-subtitle"),J.Ec(13,"Project Specific Role"),J.Tb(),J.Ub(14,"button",9),J.cc("click",(function(){J.wc(o);var e=t.$implicit;return J.gc().setAddITRole(e)})),J.Ub(15,"mat-icon"),J.Ec(16,"add"),J.Tb(),J.Tb(),J.Tb(),J.Ub(17,"mat-card-content"),J.Ub(18,"table",10),J.Sb(19,11),J.Cc(20,rt,2,2,"td",12),J.Rb(),J.Sb(21,13),J.Cc(22,st,4,0,"td",12),J.Rb(),J.Cc(23,dt,1,0,"tr",14),J.Tb(),J.Cc(24,bt,10,4,"ng-container",15),J.Tb(),J.Tb(),J.Ub(25,"mat-card",7),J.Ub(26,"mat-card-header"),J.Pb(27,"img",16),J.Ub(28,"mat-card-title"),J.Ec(29,"KM Role"),J.Tb(),J.Ub(30,"mat-card-subtitle"),J.Ec(31,"KM System Specific Role"),J.Tb(),J.Ub(32,"button",9),J.cc("click",(function(){J.wc(o);var e=t.$implicit;return J.gc().setAddKMRole(e)})),J.Ub(33,"mat-icon"),J.Ec(34,"add"),J.Tb(),J.Tb(),J.Tb(),J.Ub(35,"mat-card-content"),J.Ub(36,"table",10),J.Sb(37,11),J.Cc(38,pt,2,1,"td",12),J.Rb(),J.Sb(39,13),J.Cc(40,ut,4,0,"td",12),J.Rb(),J.Cc(41,ft,1,0,"tr",14),J.Tb(),J.Cc(42,ht,10,4,"ng-container",15),J.Tb(),J.Tb(),J.Ub(43,"mat-card",7),J.Ub(44,"mat-card-header"),J.Pb(45,"img",17),J.Ub(46,"mat-card-title"),J.Ec(47,"Account"),J.Tb(),J.Ub(48,"mat-card-subtitle"),J.Ec(49,"Client Name"),J.Tb(),J.Ub(50,"button",9),J.cc("click",(function(){J.wc(o);var e=t.$implicit;return J.gc().setAddAccount(e)})),J.Ub(51,"mat-icon"),J.Ec(52,"add"),J.Tb(),J.Tb(),J.Tb(),J.Ub(53,"mat-card-content"),J.Ub(54,"table",10),J.Sb(55,11),J.Cc(56,yt,3,2,"td",12),J.Rb(),J.Sb(57,13),J.Cc(58,Rt,4,0,"td",12),J.Rb(),J.Cc(59,Tt,1,0,"tr",14),J.Tb(),J.Cc(60,vt,10,4,"ng-container",15),J.Tb(),J.Tb(),J.Tb(),J.Ub(61,"mat-action-row",18),J.Ub(62,"button",19),J.cc("click",(function(){return J.wc(o),J.gc().offBoardingDialog()})),J.Ec(63,"Off-Board"),J.Tb(),J.Tb(),J.Tb()}if(2&e){var i=t.$implicit,l=J.gc();J.Cb(1),J.lc("ngIf",i.empId!=l.logInemployee.empId),J.Cb(4),J.Gc(" - ",i.empDescription,""),J.Cb(13),J.lc("dataSource",i.dataSourceITRoles),J.Cb(5),J.lc("matRowDefColumns",l.displayedColumns),J.Cb(1),J.lc("ngIf",i.addITRole),J.Cb(12),J.lc("dataSource",i.dataSourceKMRoles),J.Cb(5),J.lc("matRowDefColumns",l.displayedColumns),J.Cb(1),J.lc("ngIf",i.addKMRole),J.Cb(12),J.lc("dataSource",i.dataSourceAccounts),J.Cb(5),J.lc("matRowDefColumns",l.displayedColumns),J.Cb(1),J.lc("ngIf",i.addAccount)}}var Ct,Mt,Ut,wt=[{path:"menu",component:ee,children:[{path:"approve",component:Ne},{path:"my-profile",component:(Mt=function(){function e(t,o,i,l,n,c,a){_classCallCheck(this,e),this.authenticationService=t,this.http=o,this.userService=i,this.formBuilder=l,this._snackBar=n,this.dialog=c,this.globals=a,this.kmRoleAPIUrl="http://localhost:9080/knowledge/management/kmrole/",this.itRoleAPIUrl="http://localhost:9080/knowledge/management/skill-role",this.portfolioAPIUrl="http://localhost:9080/knowledge/management/portfolio",this.employeeITRoleAPIUrl="http://localhost:9080/knowledge/management/employee/role/all",this.employeeITRoleDelAPIUrl="http://localhost:9080/knowledge/management/employee/role/",this.employeeKMRoleAPIUrl="http://localhost:9080/knowledge/management/employee/km-role/",this.employeeAccountAPIUrl="http://localhost:9080/knowledge/management/employee/account/",this.toast=ie.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}),this.passwordError=!1,this.profileBlock=!0,this.editBlock=!1,this.changePassword=!1,this.alreadySelectedKMRoles=[],this.alreadySelectedITRoles=[],this.alreadySelectedAccount=[],this.addITRole=!1,this.addKMRole=!1,this.addAccount=!1,this.displayedColumns=["name","actions"],this.userData=this.globals.userData}return _createClass(e,[{key:"ngOnInit",value:function(){this.authenticationService.currentUserValue&&(this.employee=this.authenticationService.currentUserValue,this.registerForm=this.formBuilder.group({empImage:[this.employee.empImage],empDescription:[this.employee.empDescription]}),this.passwordForm=this.formBuilder.group({oldPassword:["",[l.v.required,l.v.minLength(6)]],newPassword:["",[l.v.required,l.v.minLength(6)]]}),this.dataSourceKMRoles=new d.k(this.employee.empKMRole),this.dataSourceITRoles=new d.k(this.employee.empITRoles),this.dataSourceAccounts=new d.k(this.employee.empAccount),this.loadRole(),this.loadITRole(),this.loadportfolio(),this.alreadySelectedKMRoles=this.employee.empKMRole.map((function(e){return e.kmRoleId})),this.alreadySelectedITRoles=this.employee.empITRoles.map((function(e){return e.itRoleId})),this.alreadySelectedAccount=this.employee.empAccount.map((function(e){return e.portfolioId})))}},{key:"enableEditBlock",value:function(){this.editBlock?this.enableProfileBlock():(this.editBlock=!0,this.profileBlock=!1,this.changePassword=!1)}},{key:"enableProfileBlock",value:function(){this.editBlock=!1,this.profileBlock=!0,this.changePassword=!1}},{key:"enableChangePassword",value:function(){this.changePassword?this.enableProfileBlock():(this.editBlock=!1,this.profileBlock=!1,this.changePassword=!0)}},{key:"setAddITRole",value:function(){this.addITRole=!this.addITRole}},{key:"setAddKMRole",value:function(){this.addKMRole=!this.addKMRole}},{key:"setAddAccount",value:function(){this.addAccount=!this.addAccount}},{key:"loadportfolio",value:function(){var e=this;this.http.get(this.portfolioAPIUrl).subscribe((function(t){e.originalAccounts=t,e.formatPortfolio()}),(function(e){console.log("error")}))}},{key:"formatPortfolio",value:function(){var e=this;this.accounts=this.originalAccounts.map((function(t){return{portfolioId:t.portfolioId,portfolioSName:t.portfolioSName,portfolioImage:t.portfolioImage,disabled:e.alreadySelectedAccount.indexOf(t.portfolioId)>-1}}))}},{key:"getPortfolio",value:function(e){var t;for(t=0;t<this.originalAccounts.length;t++)if(this.originalAccounts[t].portfolioId==e)return this.originalAccounts[t]}},{key:"loadRole",value:function(){var e=this;this.http.get(this.kmRoleAPIUrl).subscribe((function(t){e.originalKMRoles=t,e.formatKMRole()}),(function(e){console.log("error")}))}},{key:"formatKMRole",value:function(){var e=this;this.kmRoles=this.originalKMRoles.map((function(t){return{kmRoleId:t.kmRoleId,kmRoleName:t.kmRoleName,disabled:e.alreadySelectedKMRoles.indexOf(t.kmRoleId)>-1}}))}},{key:"getKMRoles",value:function(e){var t;for(t=0;t<this.originalKMRoles.length;t++)if(this.originalKMRoles[t].kmRoleId==e)return this.originalKMRoles[t]}},{key:"loadITRole",value:function(){var e=this;this.http.get(this.itRoleAPIUrl).subscribe((function(t){e.itRoles=t,e.originalITRoles=t,e.formatITRole()}),(function(e){console.log("error")}))}},{key:"formatITRole",value:function(){var e=this;this.itRoles=this.originalITRoles.map((function(t){return{skillRollId:t.skillRollId,skillRollName:t.role.roleName+" - ( "+t.skill.skillName+" )",disabled:e.alreadySelectedITRoles.indexOf(t.skillRollId)>-1}}))}},{key:"getITRoles",value:function(e){var t;for(t=0;t<this.originalITRoles.length;t++)if(this.originalITRoles[t].skillRollId==e)return this.originalITRoles[t]}},{key:"createITRole",value:function(){var e=this;this.insertITRoleObject=this.employee.selectedITRoles.map((function(t){return{empId:e.employee.empId,itRoleId:t}})),this.http.post(this.employeeITRoleAPIUrl,this.insertITRoleObject).subscribe((function(t){if(Array.isArray(t)){var o;for(o=0;o<t.length;o++)t[o].skillRoll=e.getITRoles(t[o].itRoleId),e.employee.empITRoles.push(t[o]),e.alreadySelectedITRoles.push(t[o].itRoleId);e.employee.selectedITRoles=[],e.dataSourceITRoles.data=e.employee.empITRoles,e.authenticationService.updateSession(e.employee),e.formatITRole()}}),(function(e){console.log("error")}))}},{key:"deleteITRole",value:function(e){var t=this;this.http.delete(this.employeeITRoleDelAPIUrl+e.empITRoleId).subscribe((function(o){t.employee.empITRoles.splice(t.employee.empITRoles.indexOf(e),1),t.dataSourceITRoles.data=t.employee.empITRoles,t.authenticationService.updateSession(t.employee),t.alreadySelectedITRoles.splice(t.alreadySelectedITRoles.indexOf(e.empITRoleId),1),t.formatITRole()}),(function(e){console.log("error")}))}},{key:"deleteITRoleDialog",value:function(e){var t=this;if(1!=this.employee.empITRoles.length){var o=new Be.b("Confirm Action","Are you sure you want to delete this?");this.dialog.open(Be.a,{maxWidth:"400px",data:o}).afterClosed().subscribe((function(o){o&&t.deleteITRole(e)}))}else this._snackBar.open("At least one is needed.","OK",{duration:2e3})}},{key:"createKMRole",value:function(){var e=this;this.insertKMRoleObject=this.employee.selectedKMRoles.map((function(t){return{empId:e.employee.empId,kmRoleId:t}})),this.http.post(this.employeeKMRoleAPIUrl+"all",this.insertKMRoleObject).subscribe((function(t){if(Array.isArray(t)){var o;for(o=0;o<t.length;o++)t[o].kmRole=e.getKMRoles(t[o].kmRoleId),e.employee.empKMRole.push(t[o]),e.alreadySelectedKMRoles.push(t[o].kmRoleId);e.employee.selectedKMRoles=[],e.dataSourceKMRoles.data=e.employee.empKMRole,e.authenticationService.updateSession(e.employee),e.formatKMRole()}}),(function(e){console.log("error")}))}},{key:"deleteKMRole",value:function(e){var t=this;this.http.delete(this.employeeKMRoleAPIUrl+e.empKMRoleId).subscribe((function(o){t.employee.empKMRole.splice(t.employee.empKMRole.indexOf(e),1),t.dataSourceKMRoles.data=t.employee.empKMRole,t.authenticationService.updateSession(t.employee),t.alreadySelectedKMRoles.splice(t.alreadySelectedKMRoles.indexOf(e.itRoleId),1),t.formatKMRole()}),(function(e){console.log("error")}))}},{key:"deleteKMRoleDialog",value:function(e){var t=this;if(1!=this.employee.empKMRole.length){var o=new Be.b("Confirm Action","Are you sure you want to delete this?");this.dialog.open(Be.a,{maxWidth:"400px",data:o}).afterClosed().subscribe((function(o){o&&t.deleteKMRole(e)}))}else this._snackBar.open("At least one is needed.","OK",{duration:2e3})}},{key:"createAccount",value:function(){var e=this;this.insertAccountObject=this.employee.selectedAccount.map((function(t){return{empId:e.employee.empId,portfolioId:t}})),this.http.post(this.employeeAccountAPIUrl+"all",this.insertAccountObject).subscribe((function(t){if(Array.isArray(t)){var o;for(o=0;o<t.length;o++)t[o].portfolio=e.getPortfolio(t[o].portfolioId),e.employee.empAccount.push(t[o]),e.alreadySelectedAccount.push(t[o].portfolioId);e.employee.selectedAccount=[],e.dataSourceAccounts.data=e.employee.empAccount,e.authenticationService.updateSession(e.employee),e.formatPortfolio()}}),(function(e){console.log("error")}))}},{key:"deleteAccountDialog",value:function(e){var t=this;if(1!=this.employee.empAccount.length){var o=new Be.b("Confirm Action","Are you sure you want to delete this?");this.dialog.open(Be.a,{maxWidth:"400px",data:o}).afterClosed().subscribe((function(o){o&&t.deleteAccount(e)}))}else this._snackBar.open("At least one is needed.","OK",{duration:2e3})}},{key:"deleteAccount",value:function(e){var t=this;this.http.delete(this.employeeAccountAPIUrl+e.empAcctId).subscribe((function(o){t.employee.empAccount.splice(t.employee.empAccount.indexOf(e),1),t.dataSourceAccounts.data=t.employee.empAccount,t.authenticationService.updateSession(t.employee),t.alreadySelectedAccount.splice(t.alreadySelectedAccount.indexOf(e.portfolioId),1),t.formatPortfolio()}),(function(e){console.log("error")}))}},{key:"onSubmit",value:function(){var e=this;this.registerForm.invalid||(this.profileData={empId:this.employee.empId,empImage:this.f.empImage.value,empDescription:this.f.empDescription.value},this.userService.update(this.profileData).subscribe((function(t){e.updateResponse=t,e.employee.empDescription=e.updateResponse.empDescription,e.employee.empImage=e.updateResponse.empImage,e.authenticationService.updateSession(e.employee),e.enableEditBlock()}),(function(e){console.log("error")})))}},{key:"onPasswordSubmit",value:function(){var e=this;this.passwordForm.invalid||(this.profileData={empEmail:this.employee.empEmail,oldPassword:this.pf.oldPassword.value,newPassword:this.pf.newPassword.value},this.userService.updatePassword(this.profileData).subscribe((function(t){e.toast.fire({icon:"success",title:"Password updated successfully, re-login again."}),e.authenticationService.logout()}),(function(t){e.passwordError=!0,setTimeout((function(){e.passwordError=!1}),3e3),e.toast.fire({icon:"error",title:"Error at server (invalid input)."})})))}},{key:"f",get:function(){return this.registerForm.controls}},{key:"pf",get:function(){return this.passwordForm.controls}}]),e}(),Mt.\u0275fac=function(e){return new(e||Mt)(J.Ob(le.a),J.Ob(ae.b),J.Ob(ne.a),J.Ob(l.d),J.Ob(F.a),J.Ob(y.b),J.Ob(je.a))},Mt.\u0275cmp=J.Ib({type:Mt,selectors:[["ng-component"]],decls:15,vars:3,consts:[[1,"container","bg-common","static-height"],[1,"border_bottom"],["align","right"],["mat-stroked-button","","color","primary",3,"click"],[4,"ngIf"],[1,"profile_mat-card"],["mat-card-avatar","","alt","Avatar",3,"src"],["mat-icon-button","","color","primary",1,"more-button",3,"click"],[1,"main-div"],[1,"inner-card"],["mat-card-avatar","","src","https://raw.githubusercontent.com/palashibm2020/KMImage/master/assets/img/icons/IT Role.png"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-card-avatar","","src","https://raw.githubusercontent.com/palashibm2020/KMImage/master/assets/img/icons/KM Role.png"],["mat-card-avatar","","src","https://raw.githubusercontent.com/palashibm2020/KMImage/master/assets/img/icons/Account.png"],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-row",""],["bindLabel","skillRollName","bindValue","skillRollId",3,"items","multiple","closeOnSelect","ngModel","ngModelChange"],["ng-option-tmp",""],["type","checkbox",3,"id","ngModel"],["bindLabel","kmRoleName","bindValue","kmRoleId",3,"items","multiple","closeOnSelect","ngModel","ngModelChange"],[1,"Avatarimg",3,"src"],["bindLabel","portfolioSName","bindValue","portfolioId",3,"items","multiple","closeOnSelect","ngModel","ngModelChange"],[1,"regmat-card"],[3,"formGroup","ngSubmit"],[1,"full-width-input"],["matInput","","placeholder","Avatar Image","formControlName","empImage"],["matInput","","placeholder","About You ...","rows","5","formControlName","empDescription"],["mat-stroked-button","","color","primary"],["matInput","","type","password","placeholder","Old Password","formControlName","oldPassword","required","","minlength","6"],["matInput","","type","password","placeholder","New Password","formControlName","newPassword","required","","minlength","6"],["color","warn"]],template:function(e,t){1&e&&(J.Ub(0,"div",0),J.Pb(1,"br"),J.Ub(2,"table"),J.Ub(3,"tr",1),J.Ub(4,"td"),J.Ub(5,"h1"),J.Ec(6,"My Profile"),J.Tb(),J.Tb(),J.Ub(7,"td",2),J.Ub(8,"button",3),J.cc("click",(function(){return t.enableChangePassword()})),J.Ub(9,"mat-icon"),J.Ec(10,"vpn_key"),J.Tb(),J.Ec(11,"Change Password"),J.Tb(),J.Tb(),J.Tb(),J.Tb(),J.Cc(12,it,70,14,"ng-container",4),J.Cc(13,lt,24,5,"ng-container",4),J.Cc(14,ct,32,6,"ng-container",4),J.Tb()),2&e&&(J.Cb(12),J.lc("ngIf",t.profileBlock),J.Cb(1),J.lc("ngIf",t.editBlock),J.Cb(1),J.lc("ngIf",t.changePassword))},directives:[f.b,a.a,i.k,p.a,p.e,p.c,p.h,p.g,p.d,d.j,d.c,d.b,d.i,d.a,d.h,re.a,l.l,l.o,re.c,l.a,l.x,l.m,l.f,c.c,s.b,l.c,l.e,l.t,l.h,c.b],styles:["mat-card[_ngcontent-%COMP%]{max-width:100%;margin:2em auto}mat-form-field[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%}.Avatarimg[_ngcontent-%COMP%]{border-radius:50%;width:30px;height:30px}tr.border_bottom[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #000}.tdlebel[_ngcontent-%COMP%]{font-size:16px;font-weight:400;font-family:IBM Plex Sans Medium;padding:4px;margin:0;vertical-align:center;width:120px}.select-cell-width[_ngcontent-%COMP%]{width:80px}tr.mat-header-row[_ngcontent-%COMP%]{font-weight:700;height:50px!important;font-size:14px;background:#dbd8d8}tr.mat-row[_ngcontent-%COMP%]{height:35px!important}.example-card[_ngcontent-%COMP%]{width:100%}.inner-card[_ngcontent-%COMP%]{width:30%;margin-right:20px;margin-top:25px;display:inline-block!important;align:top}.main-div[_ngcontent-%COMP%]{display:flex;justify-content:top;align-items:top}.pointerclass[_ngcontent-%COMP%]{cursor:pointer;display:inline-block!important}.actionbutton[_ngcontent-%COMP%]{padding:0;min-width:23px;min-height:23px!important;font-size:8px!important;line-height:0}.more-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px}"]}),Mt)},{path:"employee",component:(Ct=function(){function e(t,o,i,l,n,c,a){_classCallCheck(this,e),this.http=t,this.userService=o,this.formBuilder=i,this._snackBar=l,this.dialog=n,this.authenticationService=c,this.globals=a,this.employeeUrl="http://localhost:9080/knowledge/management/employee/approve",this.kmRoleAPIUrl="http://localhost:9080/knowledge/management/kmrole/",this.itRoleAPIUrl="http://localhost:9080/knowledge/management/skill-role",this.portfolioAPIUrl="http://localhost:9080/knowledge/management/portfolio",this.employeeITRoleAPIUrl="http://localhost:9080/knowledge/management/employee/role",this.employeeKMRoleAPIUrl="http://localhost:9080/knowledge/management/employee/km-role/",this.employeeAccountAPIUrl="http://localhost:9080/knowledge/management/employee/account/",this.employeeOffBoardingAPIUrl="http://localhost:9080/knowledge/management/employee/offboarding",this.loading=!0,this.addITRole=!1,this.addKMRole=!1,this.addAccount=!1,this.alreadySelectedKMRoles=[],this.alreadySelectedITRoles=[],this.alreadySelectedAccount=[],this.displayedColumns=["name","actions"],this.toast=ie.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3})}return _createClass(e,[{key:"ngOnInit",value:function(){this.authenticationService.currentUserValue&&(this.logInemployee=this.authenticationService.currentUserValue),this.loadEmployee(),this.loadRole(),this.loadITRole(),this.loadportfolio(),this.userData=this.globals.userData}},{key:"setAddITRole",value:function(e){e.addITRole=!e.addITRole}},{key:"setAddKMRole",value:function(e){e.addKMRole=!e.addKMRole}},{key:"setAddAccount",value:function(e){e.addAccount=!e.addAccount}},{key:"loadEmployee",value:function(){var e=this;this.http.get(this.employeeUrl).subscribe((function(t){e.employees=t,e.loading=!1}),(function(e){console.log("error")}))}},{key:"loadportfolio",value:function(){var e=this;this.http.get(this.portfolioAPIUrl).subscribe((function(t){e.originalAccounts=t}),(function(e){console.log("error")}))}},{key:"loadEmployeeKMRole",value:function(){var e=this;this.http.get(this.employeeKMRoleAPIUrl+this.employee.empId).subscribe((function(t){e.employee.empKMRole=t,e.employee.dataSourceKMRoles=new d.k(e.employee.empKMRole),e.alreadySelectedKMRoles=e.employee.empKMRole.map((function(e){return e.kmRoleId})),e.formatKMRole()}),(function(e){console.log("error")}))}},{key:"loadEmployeeRole",value:function(){var e=this;this.http.get(this.employeeITRoleAPIUrl+"/"+this.employee.empId).subscribe((function(t){e.employee.empITRoles=t,e.employee.dataSourceITRoles=new d.k(e.employee.empITRoles),e.alreadySelectedITRoles=e.employee.empITRoles.map((function(e){return e.itRoleId})),e.formatITRole()}),(function(e){console.log("error---\x3e"+e)}))}},{key:"loadEmployeeAccount",value:function(){var e=this;this.http.get(this.employeeAccountAPIUrl+this.employee.empId).subscribe((function(t){e.employee.empAccount=t,e.employee.dataSourceAccounts=new d.k(e.employee.empAccount),e.alreadySelectedAccount=e.employee.empAccount.map((function(e){return e.portfolioId})),e.formatPortfolio()}),(function(e){console.log("error")}))}},{key:"fetchGeneralInfo",value:function(e){this.employee=e,this.employee.opened=!0,this.employee.empKMRole?(this.alreadySelectedKMRoles=this.employee.empKMRole.map((function(e){return e.kmRoleId})),this.formatKMRole()):this.loadEmployeeKMRole(),this.employee.empAccount?(this.alreadySelectedAccount=this.employee.empAccount.map((function(e){return e.portfolioId})),this.formatPortfolio()):this.loadEmployeeAccount(),this.employee.empITRoles?(this.alreadySelectedITRoles=this.employee.empITRoles.map((function(e){return e.itRoleId})),this.formatITRole()):this.loadEmployeeRole()}},{key:"loadRole",value:function(){var e=this;this.http.get(this.kmRoleAPIUrl).subscribe((function(t){e.originalKMRoles=t}),(function(e){console.log("error")}))}},{key:"formatKMRole",value:function(){var e=this;this.kmRoles=this.originalKMRoles.map((function(t){return{kmRoleId:t.kmRoleId,kmRoleName:t.kmRoleName,disabled:e.alreadySelectedKMRoles.indexOf(t.kmRoleId)>-1}}))}},{key:"getKMRoles",value:function(e){var t;for(t=0;t<this.originalKMRoles.length;t++)if(this.originalKMRoles[t].kmRoleId==e)return this.originalKMRoles[t]}},{key:"loadITRole",value:function(){var e=this;this.http.get(this.itRoleAPIUrl).subscribe((function(t){e.itRoles=t,e.originalITRoles=t}),(function(e){console.log("error")}))}},{key:"formatITRole",value:function(){var e=this;this.itRoles=this.originalITRoles.map((function(t){return{skillRollId:t.skillRollId,skillRollName:t.role.roleName+" - ( "+t.skill.skillName+" )",disabled:e.alreadySelectedITRoles.indexOf(t.skillRollId)>-1}}))}},{key:"getITRoles",value:function(e){var t;for(t=0;t<this.originalITRoles.length;t++)if(this.originalITRoles[t].skillRollId==e)return this.originalITRoles[t]}},{key:"createITRole",value:function(){var e=this;this.insertITRoleObject=this.employee.selectedITRoles.map((function(t){return{empId:e.employee.empId,itRoleId:t}})),console.log(JSON.stringify(this.insertITRoleObject)),this.http.post(this.employeeITRoleAPIUrl+"/all",this.insertITRoleObject).subscribe((function(t){if(Array.isArray(t)){var o;for(o=0;o<t.length;o++)t[o].skillRoll=e.getITRoles(t[o].itRoleId),e.employee.empITRoles.push(t[o]),e.alreadySelectedITRoles.push(t[o].itRoleId);e.employee.selectedITRoles=[],e.employee.dataSourceITRoles.data=e.employee.empITRoles,e.formatITRole()}}),(function(e){console.log("error---\x3e"+e)}))}},{key:"deleteITRole",value:function(e){var t=this;this.http.delete(this.employeeITRoleAPIUrl+"/"+e.empITRoleId).subscribe((function(o){t.employee.empITRoles.splice(t.employee.empITRoles.indexOf(e),1),t.employee.dataSourceITRoles.data=t.employee.empITRoles,t.alreadySelectedITRoles.splice(t.alreadySelectedITRoles.indexOf(e.empITRoleId),1),t.formatITRole()}),(function(e){console.log("error")}))}},{key:"deleteITRoleDialog",value:function(e){var t=this;if(1!=this.employee.empITRoles.length){var o=new Be.b("Confirm Action","Are you sure you want to delete this?");this.dialog.open(Be.a,{maxWidth:"400px",data:o}).afterClosed().subscribe((function(o){o&&t.deleteITRole(e)}))}else this._snackBar.open("At least one is needed.","OK",{duration:2e3})}},{key:"createKMRole",value:function(){var e=this;this.insertKMRoleObject=this.employee.selectedKMRoles.map((function(t){return{empId:e.employee.empId,kmRoleId:t}})),this.http.post(this.employeeKMRoleAPIUrl+"all",this.insertKMRoleObject).subscribe((function(t){if(Array.isArray(t)){var o;for(o=0;o<t.length;o++)t[o].kmRole=e.getKMRoles(t[o].kmRoleId),e.employee.empKMRole.push(t[o]),e.alreadySelectedKMRoles.push(t[o].kmRoleId);e.employee.selectedKMRoles=[],e.employee.dataSourceKMRoles.data=e.employee.empKMRole,e.formatKMRole()}}),(function(e){console.log("error")}))}},{key:"deleteKMRole",value:function(e){var t=this;this.http.delete(this.employeeKMRoleAPIUrl+e.empKMRoleId).subscribe((function(o){t.employee.empKMRole.splice(t.employee.empKMRole.indexOf(e),1),t.employee.dataSourceKMRoles.data=t.employee.empKMRole,t.alreadySelectedKMRoles.splice(t.alreadySelectedKMRoles.indexOf(e.itRoleId),1),t.formatKMRole()}),(function(e){console.log("error")}))}},{key:"deleteKMRoleDialog",value:function(e){var t=this;if(1!=this.employee.empKMRole.length){var o=new Be.b("Confirm Action","Are you sure you want to delete this?");this.dialog.open(Be.a,{maxWidth:"400px",data:o}).afterClosed().subscribe((function(o){o&&t.deleteKMRole(e)}))}else this._snackBar.open("At least one is needed.","OK",{duration:2e3})}},{key:"createAccount",value:function(){var e=this;this.insertAccountObject=this.employee.selectedAccount.map((function(t){return{empId:e.employee.empId,portfolioId:t}})),this.http.post(this.employeeAccountAPIUrl+"all",this.insertAccountObject).subscribe((function(t){if(Array.isArray(t)){var o;for(o=0;o<t.length;o++)t[o].portfolio=e.getPortfolio(t[o].portfolioId),e.employee.empAccount.push(t[o]),e.alreadySelectedAccount.push(t[o].portfolioId);e.employee.selectedAccount=[],e.employee.dataSourceAccounts.data=e.employee.empAccount,e.formatPortfolio()}}),(function(e){console.log("error")}))}},{key:"deleteAccountDialog",value:function(e){var t=this;if(1!=this.employee.empAccount.length){var o=new Be.b("Confirm Action","Are you sure you want to delete this?");this.dialog.open(Be.a,{maxWidth:"400px",data:o}).afterClosed().subscribe((function(o){o&&t.deleteAccount(e)}))}else this._snackBar.open("At least one is needed.","OK",{duration:2e3})}},{key:"deleteAccount",value:function(e){var t=this;this.http.delete(this.employeeAccountAPIUrl+e.empAcctId).subscribe((function(o){t.employee.empAccount.splice(t.employee.empAccount.indexOf(e),1),t.employee.dataSourceAccounts.data=t.employee.empAccount,t.alreadySelectedAccount.splice(t.alreadySelectedAccount.indexOf(e.portfolioId),1),t.formatPortfolio()}),(function(e){console.log("error")}))}},{key:"formatPortfolio",value:function(){var e=this;this.accounts=this.originalAccounts.map((function(t){return{portfolioId:t.portfolioId,portfolioSName:t.portfolioSName,portfolioImage:t.portfolioImage,disabled:e.alreadySelectedAccount.indexOf(t.portfolioId)>-1}}))}},{key:"getPortfolio",value:function(e){var t;for(t=0;t<this.originalAccounts.length;t++)if(this.originalAccounts[t].portfolioId==e)return this.originalAccounts[t]}},{key:"offBoardingDialog",value:function(){var e=this,t=new Be.b("Confirm Action","Are you sure you want to off-Board this?");this.dialog.open(Be.a,{maxWidth:"400px",data:t}).afterClosed().subscribe((function(t){t&&e.offBoarding()}))}},{key:"offBoarding",value:function(){var e=this;this.http.post(this.employeeOffBoardingAPIUrl,{empId:this.employee.empId}).subscribe((function(t){e.employees.splice(e.employees.indexOf(e.employee),1),e.toast.fire({icon:"success",title:"OffBoarding is done successfully."})}),(function(e){console.log("error")}))}}]),e}(),Ct.\u0275fac=function(e){return new(e||Ct)(J.Ob(ae.b),J.Ob(ne.a),J.Ob(l.d),J.Ob(F.a),J.Ob(y.b),J.Ob(le.a),J.Ob(je.a))},Ct.\u0275cmp=J.Ib({type:Ct,selectors:[["ng-component"]],decls:13,vars:1,consts:[[1,"container","bg-common","static-height"],[1,"border_bottom"],[1,"example-headers-align"],["class","requirement-panels",3,"opened",4,"ngFor","ngForOf"],[1,"requirement-panels",3,"opened"],["class","requirement-panel-header",4,"ngIf"],[1,"main-div"],[1,"inner-card"],["mat-card-avatar","","src","https://raw.githubusercontent.com/palashibm2020/KMImage/master/assets/img/icons/IT Role.png"],["mat-icon-button","","color","primary",1,"more-button",3,"click"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["mat-card-avatar","","src","https://raw.githubusercontent.com/palashibm2020/KMImage/master/assets/img/icons/KM Role.png"],["mat-card-avatar","","src","https://raw.githubusercontent.com/palashibm2020/KMImage/master/assets/img/icons/Account.png"],[2,"text-align","center"],["mat-stroked-button","","color","primary",3,"click"],[1,"requirement-panel-header"],[1,"requirement-panel-title"],["mat-card-avatar","","alt","Avatar",3,"src"],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-row",""],["bindLabel","skillRollName","bindValue","skillRollId",3,"items","multiple","closeOnSelect","ngModel","ngModelChange"],["ng-option-tmp",""],["mat-stroked-button","","color","primary","ng-focus","employees.opened",3,"click"],["type","checkbox",3,"id","ngModel"],["bindLabel","kmRoleName","bindValue","kmRoleId",3,"items","multiple","closeOnSelect","ngModel","ngModelChange"],[1,"Avatarimg",3,"src"],["bindLabel","portfolioSName","bindValue","portfolioId",3,"items","multiple","closeOnSelect","ngModel","ngModelChange"]],template:function(e,t){1&e&&(J.Ub(0,"div",0),J.Pb(1,"br"),J.Ub(2,"table"),J.Ub(3,"tr",1),J.Ub(4,"td"),J.Ub(5,"h1"),J.Ec(6,"All Approved Employee"),J.Tb(),J.Tb(),J.Tb(),J.Tb(),J.Pb(7,"br"),J.Ub(8,"mat-accordion",2),J.Cc(9,kt,64,11,"mat-expansion-panel",3),J.Tb(),J.Pb(10,"br"),J.Pb(11,"br"),J.Pb(12,"br"),J.Tb()),2&e&&(J.Cb(9),J.lc("ngForOf",t.employees))},directives:[n.a,i.j,n.c,i.k,p.a,p.e,p.c,p.h,p.g,f.b,a.a,p.d,d.j,d.c,d.b,d.i,n.d,n.f,n.g,n.e,d.a,d.h,re.a,l.l,l.o,re.c,l.a],styles:["mat-card[_ngcontent-%COMP%]{max-width:100%;margin:2em auto}mat-form-field[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%}.Avatarimg[_ngcontent-%COMP%]{border-radius:50%;width:30px;height:30px}tr.border_bottom[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #000}.tdlebel[_ngcontent-%COMP%]{font-size:16px;font-weight:400;font-family:IBM Plex Sans Medium;padding:4px;margin:0;vertical-align:center;width:120px}.select-cell-width[_ngcontent-%COMP%]{width:80px}tr.mat-header-row[_ngcontent-%COMP%]{font-weight:700;height:50px!important;font-size:14px;background:#dbd8d8}tr.mat-row[_ngcontent-%COMP%]{height:35px!important}.example-card[_ngcontent-%COMP%]{width:100%}.inner-card[_ngcontent-%COMP%]{width:30%;margin-right:20px;margin-top:25px;display:inline-block!important;align:top}.main-div[_ngcontent-%COMP%]{display:flex;justify-content:top;align-items:top}.pointerclass[_ngcontent-%COMP%]{cursor:pointer;display:inline-block!important}.actionbutton[_ngcontent-%COMP%]{padding:0;min-width:23px;min-height:23px!important;font-size:8px!important;line-height:0}.more-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;flex-basis:0}.requirement-panels[_ngcontent-%COMP%]{margin-bottom:1px;border-radius:5px}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.requirement-panel-title[_ngcontent-%COMP%]{font-family:IBM Plex Sans Medium;font-size:16px}.mat-action-row[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-basis:0}"]}),Ct)}]},{path:"",redirectTo:"/profile/menu/my-profile"}],At=((Ut=function e(){_classCallCheck(this,e)}).\u0275mod=J.Mb({type:Ut}),Ut.\u0275inj=J.Lb({factory:function(e){return new(e||Ut)},imports:[[W.f.forChild(wt),i.c,l.g,R.l,f.c,n.b,c.e,a.b,r.b,s.c,d.l,m.b,b.a,p.f,u.a,g.c,h.b,y.f,l.s,T.a,I.a,M.e,U.q,w.d,v.a,A.a,P.a,x.a,f.c,S.a,h.b,E.a,O.a,u.a,y.f,K.a,n.b,_.a,a.b,s.c,D.a,N.b,R.l,m.b,V.a,$.a,g.c,R.t,r.b,B.a,j.a,L.a,F.b,b.a,d.l,q.c,G.a,z.b,H.a,k.h,C.d]]}),Ut)}}]);