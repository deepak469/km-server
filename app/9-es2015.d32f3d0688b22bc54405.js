(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{vB0e:function(e,t,o){"use strict";o.r(t),o.d(t,"ProfileMenuPageModule",(function(){return It}));var i=o("ofXK"),l=o("3Pt+"),c=o("7EHt"),n=o("kmnG"),s=o("NFeN"),a=o("d3UM"),r=o("qFsG"),d=o("+0xr"),m=o("M9IT"),b=o("Dh3D"),p=o("Wp6s"),h=o("iadO"),u=o("bTqV"),g=o("QibW"),f=o("bSwM"),R=o("0IaG"),y=o("FKr1"),T=o("u47x"),I=o("UXJo"),C=o("5+WD"),M=o("+rOU"),U=o("vxfF"),k=o("B/XX"),w=o("f6nW"),A=o("FvrZ"),P=o("/1cH"),x=o("TU8p"),S=o("2ChS"),E=o("jaxi"),O=o("A5z7"),v=o("xHqg"),K=o("f0Cb"),_=o("zkoq"),D=o("MutI"),N=o("STbY"),V=o("bv9b"),$=o("Xa2L"),B=o("XhcP"),j=o("5RNC"),L=o("1jcm"),F=o("dNgK"),q=o("wZkO"),G=o("/t3+"),z=o("Qu3c"),H=o("8yBR"),W=o("tyNb"),J=o("fXoL");const X=function(e){return[e]},Y=function(){return{exact:!0}};function Z(e,t){if(1&e&&(J.Ub(0,"a",3,4),J.Ec(2),J.Tb()),2&e){const e=t.$implicit,o=J.uc(1);J.lc("routerLink",J.pc(4,X,e.path))("routerLinkActiveOptions",J.oc(6,Y))("active",o.isActive),J.Cb(2),J.Gc(" ",e.name," ")}}let Q=(()=>{class e{constructor(){this.pages=[{name:"My Profile",path:"/profile/menu/my-profile/"},{name:"Approve & Reject",path:"/profile/menu/approve/"},{name:"Employee",path:"/profile/menu/employee/"}]}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=J.Ib({type:e,selectors:[["app-menu"]],decls:4,vars:1,consts:[[1,"container","bg-common","static-height"],["mat-tab-nav-bar",""],["mat-tab-link","","routerLinkActive","",3,"routerLink","routerLinkActiveOptions","active",4,"ngFor","ngForOf"],["mat-tab-link","","routerLinkActive","",3,"routerLink","routerLinkActiveOptions","active"],["rla","routerLinkActive"]],template:function(e,t){1&e&&(J.Ub(0,"div",0),J.Ub(1,"nav",1),J.Cc(2,Z,3,7,"a",2),J.Tb(),J.Tb(),J.Pb(3,"router-outlet")),2&e&&(J.Cb(2),J.lc("ngForOf",t.pages))},directives:[q.b,i.j,W.g,W.e,q.a,W.d],encapsulation:2}),e})();var ee=o("SxV6"),te=o("PSD3"),oe=o.n(te),ie=o("YpDT"),le=o("w7A6"),ce=o("RU4u"),ne=o("tk/3"),se=o("ZOsW");function ae(e,t){if(1&e){const e=J.Vb();J.Ub(0,"button",7),J.cc("click",(function(){return J.wc(e),J.gc().openApproveEmployeeDialog()})),J.Ub(1,"mat-icon"),J.Ec(2,"done_all"),J.Tb(),J.Ec(3," Approve "),J.Tb()}if(2&e){const e=J.gc();J.lc("disabled",0==e.isEmployeeSelected)}}function re(e,t){if(1&e){const e=J.Vb();J.Ub(0,"button",7),J.cc("click",(function(){return J.wc(e),J.gc().openGroupRejectEmployeeDialog()})),J.Ub(1,"mat-icon"),J.Ec(2,"cancel"),J.Tb(),J.Ec(3," Reject "),J.Tb()}if(2&e){const e=J.gc();J.lc("disabled",0==e.isEmployeeSelected)}}function de(e,t){if(1&e){const e=J.Vb();J.Ub(0,"button",8),J.cc("click",(function(){return J.wc(e),J.gc().gridOnOff()})),J.Ub(1,"mat-icon"),J.Ec(2,"grid_on"),J.Tb(),J.Tb()}}function me(e,t){if(1&e){const e=J.Vb();J.Ub(0,"button",8),J.cc("click",(function(){return J.wc(e),J.gc().gridOnOff()})),J.Ub(1,"mat-icon"),J.Ec(2,"grid_off"),J.Tb(),J.Tb()}}function be(e,t){if(1&e&&(J.Pb(0,"input",19),J.Ec(1)),2&e){const e=t.item,o=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",o.selected),J.Cb(1),J.Gc(" ",e.kmRoleName," ")}}function pe(e,t){1&e&&(J.Ub(0,"mat-error"),J.Ec(1,"KM Roles is required"),J.Tb())}function he(e,t){if(1&e&&(J.Pb(0,"input",19),J.Ec(1)),2&e){const e=t.item,o=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",o.selected),J.Cb(1),J.Gc(" ",e.skillRollName," ")}}function ue(e,t){1&e&&(J.Ub(0,"mat-error"),J.Ec(1,"IT Roles is required"),J.Tb())}function ge(e,t){if(1&e&&(J.Pb(0,"input",19),J.Ec(1," \xa0\xa0"),J.Pb(2,"img",20),J.Ec(3)),2&e){const e=t.item,o=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",o.selected),J.Cb(2),J.mc("src",e.portfolioImage,J.xc),J.Cb(1),J.Gc("\xa0\xa0\xa0 ",e.portfolioSName," ")}}function fe(e,t){1&e&&(J.Ub(0,"mat-error"),J.Ec(1,"Accounts is required"),J.Tb())}function Re(e,t){if(1&e){const e=J.Vb();J.Sb(0),J.Ub(1,"mat-card",10),J.Ub(2,"mat-card-header"),J.Pb(3,"img",11),J.Ub(4,"mat-card-title"),J.Ec(5),J.Tb(),J.Ub(6,"mat-card-subtitle"),J.Ec(7),J.Tb(),J.Tb(),J.Ub(8,"mat-card-content"),J.Ub(9,"p"),J.Ec(10),J.Tb(),J.Ub(11,"table"),J.Ub(12,"tr"),J.Ub(13,"th",12),J.Ec(14,"KM Roles: "),J.Tb(),J.Ub(15,"td",13),J.Ub(16,"ng-select",14),J.cc("ngModelChange",(function(o){return J.wc(e),t.$implicit.selectedKMRoles=o}))("click",(function(){J.wc(e);const o=t.$implicit;return J.gc(2).ngSelectopened(o)})),J.Cc(17,be,2,3,"ng-template",15),J.Tb(),J.Cc(18,pe,2,0,"mat-error",5),J.Tb(),J.Tb(),J.Ub(19,"tr"),J.Ub(20,"th",12),J.Ec(21,"IT Roles:"),J.Tb(),J.Ub(22,"td"),J.Ub(23,"ng-select",16),J.cc("ngModelChange",(function(o){return J.wc(e),t.$implicit.selectedITRoles=o}))("click",(function(){J.wc(e);const o=t.$implicit;return J.gc(2).ngSelectopened(o)})),J.Cc(24,he,2,3,"ng-template",15),J.Tb(),J.Cc(25,ue,2,0,"mat-error",5),J.Tb(),J.Tb(),J.Ub(26,"tr"),J.Ub(27,"th",12),J.Ec(28,"Accounts:"),J.Tb(),J.Ub(29,"td"),J.Ub(30,"ng-select",17),J.cc("ngModelChange",(function(o){return J.wc(e),t.$implicit.selectedAccount=o}))("click",(function(){J.wc(e);const o=t.$implicit;return J.gc(2).ngSelectopened(o)})),J.Cc(31,ge,4,4,"ng-template",15),J.Tb(),J.Cc(32,fe,2,0,"mat-error",5),J.Tb(),J.Tb(),J.Ub(33,"tr"),J.Ub(34,"td",18),J.Ub(35,"button",8),J.cc("click",(function(){J.wc(e);const o=t.$implicit;return J.gc(2).approve(o)})),J.Ub(36,"mat-icon"),J.Ec(37,"done"),J.Tb(),J.Ec(38," Approve"),J.Tb(),J.Ec(39,"\xa0\xa0 "),J.Ub(40,"button",8),J.cc("click",(function(){J.wc(e);const o=t.$implicit;return J.gc(2).openRejectEmployeeDialog(o)})),J.Ub(41,"mat-icon"),J.Ec(42,"cancel_presentation"),J.Tb(),J.Ec(43," Reject"),J.Tb(),J.Ec(44,"\xa0\xa0 "),J.Tb(),J.Tb(),J.Tb(),J.Tb(),J.Tb(),J.Rb()}if(2&e){const e=t.$implicit,o=J.gc(2);J.Cb(3),J.mc("src",e.empImage,J.xc),J.Cb(2),J.Hc("(",e.ibmEmpId,")\xa0",e.empName,""),J.Cb(2),J.Fc(e.empEmail),J.Cb(3),J.Fc(e.empDescription),J.Cb(6),J.lc("items",o.kmRoles)("multiple",!0)("closeOnSelect",!1)("ngModel",e.selectedKMRoles),J.Cb(2),J.lc("ngIf",e.isKMRolesValid),J.Cb(5),J.lc("items",o.itRoles)("multiple",!0)("closeOnSelect",!1)("ngModel",e.selectedITRoles),J.Cb(2),J.lc("ngIf",e.isITRolesValid),J.Cb(5),J.lc("items",o.accounts)("multiple",!0)("closeOnSelect",!1)("ngModel",e.selectedAccount),J.Cb(2),J.lc("ngIf",e.isAccountsValid)}}function ye(e,t){if(1&e&&(J.Sb(0),J.Cc(1,Re,45,20,"ng-container",9),J.Rb()),2&e){const e=J.gc();J.Cb(1),J.lc("ngForOf",e.employees)}}function Te(e,t){1&e&&(J.Ub(0,"th",31),J.Ec(1,"Select"),J.Tb())}function Ie(e,t){if(1&e){const e=J.Vb();J.Ub(0,"td",32),J.Ub(1,"mat-checkbox",33),J.cc("ngModelChange",(function(o){return J.wc(e),t.$implicit.checked=o}))("change",(function(o){J.wc(e);const i=t.$implicit;return J.gc(2).onSelectClick(o,i.checked)})),J.Tb(),J.Tb()}if(2&e){const e=t.$implicit;J.Cb(1),J.lc("ngModel",e.checked)}}function Ce(e,t){1&e&&(J.Ub(0,"th",31),J.Ec(1,"Avatar"),J.Tb())}function Me(e,t){if(1&e&&(J.Ub(0,"td",32),J.Pb(1,"img",11),J.Tb()),2&e){const e=t.$implicit;J.Cb(1),J.mc("src",e.empImage,J.xc)}}function Ue(e,t){1&e&&(J.Ub(0,"th",34),J.Ec(1,"Detail"),J.Tb())}function ke(e,t){if(1&e&&(J.Ub(0,"td",32),J.Ub(1,"h2"),J.Ec(2),J.Tb(),J.Ub(3,"p"),J.Ec(4),J.Tb(),J.Ub(5,"p"),J.Ec(6,"\xa0"),J.Tb(),J.Tb()),2&e){const e=t.$implicit;J.Cb(2),J.Ic("(",e.ibmEmpId,")\xa0",e.empName,"\xa0|\xa0",e.empEmail,""),J.Cb(2),J.Fc(e.empDescription)}}function we(e,t){1&e&&J.Pb(0,"tr",35)}function Ae(e,t){1&e&&J.Pb(0,"tr",36)}function Pe(e,t){if(1&e&&(J.Ub(0,"div",21),J.Pb(1,"br"),J.Ub(2,"table",22),J.Sb(3,23),J.Cc(4,Te,2,0,"th",24),J.Cc(5,Ie,2,1,"td",25),J.Rb(),J.Sb(6,26),J.Cc(7,Ce,2,0,"th",24),J.Cc(8,Me,2,1,"td",25),J.Rb(),J.Sb(9,27),J.Cc(10,Ue,2,0,"th",28),J.Cc(11,ke,7,4,"td",25),J.Rb(),J.Cc(12,we,1,0,"tr",29),J.Cc(13,Ae,1,0,"tr",30),J.Tb(),J.Tb()),2&e){const e=J.gc();J.Cb(2),J.lc("dataSource",e.dataSource),J.Cb(10),J.lc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),J.Cb(1),J.lc("matRowDefColumns",e.displayedColumns)}}function xe(e,t){1&e&&(J.Ub(0,"p"),J.Ec(1,"No new employee registration found."),J.Tb())}function Se(e,t){if(1&e&&(J.Pb(0,"input",11),J.Ec(1)),2&e){const e=t.item,o=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",o.selected),J.Cb(1),J.Gc(" ",e.kmRoleName," ")}}function Ee(e,t){if(1&e&&(J.Pb(0,"input",11),J.Ec(1)),2&e){const e=t.item,o=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",o.selected),J.Cb(1),J.Gc(" ",e.skillRollName," ")}}function Oe(e,t){if(1&e&&(J.Pb(0,"input",11),J.Ec(1," \xa0\xa0"),J.Pb(2,"img",12),J.Ec(3)),2&e){const e=t.item,o=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",o.selected),J.Cb(2),J.mc("src",e.portfolioImage,J.xc),J.Cb(1),J.Gc("\xa0\xa0\xa0 ",e.portfolioSName," ")}}let ve=(()=>{class e{constructor(e,t,o,i,l,c,n){this.formBuilder=e,this.router=t,this.authenticationService=o,this.userService=i,this.alertService=l,this.http=c,this.dialog=n,this.toast=oe.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}),this.isEmployeeSelected=!1,this.loading=!0,this.gridOn=!0,this.isEmployeesLoaded=!1,this.displayedColumns=["select","avatar","detail"],this.employeeUrl="http://localhost:9080/knowledge/management/employee/un-approve",this.kmRoleAPIUrl="http://localhost:9080/knowledge/management/kmrole/",this.itRoleAPIUrl="http://localhost:9080/knowledge/management/skill-role",this.portfolioAPIUrl="http://localhost:9080/knowledge/management/portfolio",this.selectedPeople=[13,14],this.selectedPersonId=[],this.successFlag=!1,this.submitted=!1}ngOnInit(){this.isEmployeesExist=!1,this.loadEmployee(),this.loadRole(),this.loadITRole(),this.loadportfolio()}onSelectClick(e,t){var o;if(t)this.isEmployeeSelected=!0;else for(this.isEmployeeSelected=!1,o=0;o<this.employees.length;o++)if(this.employees[o].checked){this.isEmployeeSelected=!0;break}}loadportfolio(){this.http.get(this.portfolioAPIUrl).subscribe(e=>{this.accounts=e},e=>{console.log("error")})}gridOnOff(){this.gridOn=!this.gridOn}loadRole(){this.http.get(this.kmRoleAPIUrl).subscribe(e=>{this.kmRoles=e},e=>{console.log("error")})}loadITRole(){this.http.get(this.itRoleAPIUrl).subscribe(e=>{console.log("response --\x3e"+JSON.stringify(e)),this.itRoles=e,this.itRoles=this.itRoles.map(e=>({skillRollId:e.skillRollId,skillRollName:e.role.roleName+" - ( "+e.skill.skillName+" )"}))},e=>{console.log("error")})}loadEmployee(){this.http.get(this.employeeUrl).subscribe(e=>{this.isEmployeesLoaded=!0,this.employees=e,this.employees.length>0&&(this.isEmployeesExist=!0),this.dataSource=new d.k(this.employees),this.loading=!1},e=>{console.log("error")})}validateRequiredArray(e){return!(e&&e.length>0)}ngSelectopened(e){e.isKMRolesValid=!1,e.isAccountsValid=!1,e.isITRolesValid=!1}approve(e){e.isKMRolesValid=this.validateRequiredArray(e.selectedKMRoles),e.isAccountsValid=this.validateRequiredArray(e.selectedAccount),e.isITRolesValid=this.validateRequiredArray(e.selectedITRoles),console.log("employee.isKMRolesValid ----\x3e"+e.isKMRolesValid),console.log("employee.isAccountsValid ----\x3e"+e.isAccountsValid),console.log("employee.isITRolesValid ----\x3e"+e.isITRolesValid),e.isKMRolesValid||e.isAccountsValid||e.isITRolesValid||(console.log("employee--\x3e"+JSON.stringify(e)),this.profileData={empId:e.empId,approvedStatus:!0,activeStatus:!0,kmRoles:e.selectedKMRoles,accounts:e.selectedAccount,itRoles:e.selectedITRoles},console.log("employee--\x3e"+JSON.stringify(this.profileData)),this.userService.approve(this.profileData).pipe(Object(ee.a)()).subscribe(t=>{this.employees.splice(this.employees.indexOf(e),1),this.dataSource.data=this.employees,this.employees.length<1&&(this.isEmployeesExist=!1),this.toast.fire({icon:"success",title:"Employee got approved successfully."})},e=>{this.toast.fire({icon:"error",title:"Error at server end please try after sometime"})}))}openApproveEmployeeDialog(){this.isEmployeeSelected=!1,this.dialog.open(Ke,{width:"650px",height:"500px",data:{kmRoles:this.kmRoles,itRoles:this.itRoles,accounts:this.accounts,selectedAccount:[],selectedKMRoles:[],selectedITRoles:[]}}).afterClosed().subscribe(e=>{var t;if(console.log("The dialog was closed"+JSON.stringify(e)),e)for(t=0;t<this.employees.length;t++)this.employees[t].checked&&(this.employees[t].selectedKMRoles=e.selectedKMRoles,this.employees[t].selectedAccount=e.selectedAccount,this.employees[t].selectedITRoles=e.selectedITRoles,this.approve(this.employees[t]));else this.isEmployeeSelected=!0})}performRejectOperation(e,t){console.log("employee--\x3e"+JSON.stringify(e)),this.profileData={empId:e.empId,rejectStatus:!0,remarks:t.remarks},console.log("indexOf->"+this.employees.indexOf(e)),this.userService.reject(this.profileData).pipe(Object(ee.a)()).subscribe(t=>{this.employees.splice(this.employees.indexOf(e),1),this.dataSource.data=this.employees,this.employees.length<1&&(this.isEmployeesExist=!1),this.toast.fire({icon:"success",title:"Employee got rejected successfully."})},e=>{this.toast.fire({icon:"error",title:"Error at server end please try after sometime"})})}openRejectEmployeeDialog(e){this.dialog.open(_e,{width:"450px",data:{remarks:""}}).afterClosed().subscribe(t=>{console.log("The dialog was closed"+JSON.stringify(t)),t&&this.performRejectOperation(e,t)})}openGroupRejectEmployeeDialog(){this.isEmployeeSelected=!1,this.dialog.open(_e,{width:"450px",data:{remarks:""}}).afterClosed().subscribe(e=>{var t;if(console.log("The dialog was closed"+JSON.stringify(e)),e)for(t=0;t<this.employees.length;t++)this.employees[t].checked&&this.performRejectOperation(this.employees[t],e);else this.isEmployeeSelected=!0})}}return e.\u0275fac=function(t){return new(t||e)(J.Ob(l.d),J.Ob(W.c),J.Ob(ie.a),J.Ob(le.a),J.Ob(ce.a),J.Ob(ne.b),J.Ob(R.b))},e.\u0275cmp=J.Ib({type:e,selectors:[["ng-component"]],decls:21,vars:9,consts:[[1,"container","bg-common","static-height"],[1,"border_bottom"],[2,"text-align","right"],["mat-stroked-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-stroked-button","","color","primary",3,"click",4,"ngIf"],[4,"ngIf"],["class","table-container",4,"ngIf"],["mat-stroked-button","","color","primary",3,"disabled","click"],["mat-stroked-button","","color","primary",3,"click"],[4,"ngFor","ngForOf"],[1,"example-card"],["mat-card-avatar","","alt","Avatar",3,"src"],[1,"tdlebel"],["colspan","2"],["bindLabel","kmRoleName","bindValue","kmRoleId","required","",3,"items","multiple","closeOnSelect","ngModel","ngModelChange","click"],["ng-option-tmp",""],["bindLabel","skillRollName","bindValue","skillRollId","required","",3,"items","multiple","closeOnSelect","ngModel","ngModelChange","click"],["bindLabel","portfolioSName","bindValue","portfolioId","required","",3,"items","multiple","closeOnSelect","ngModel","ngModelChange","click"],["colspan","2",2,"text-align","center"],["type","checkbox",3,"id","ngModel"],[1,"Avatarimg",3,"src"],[1,"table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","class","select-cell-width",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","avatar"],["matColumnDef","detail"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"select-cell-width"],["mat-cell",""],[3,"ngModel","ngModelChange","change"],["mat-header-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(J.Ub(0,"div",0),J.Pb(1,"br"),J.Ub(2,"table"),J.Ub(3,"tr",1),J.Ub(4,"td"),J.Ub(5,"h1"),J.Ec(6,"Approve & Reject Registered Employee"),J.Tb(),J.Tb(),J.Ub(7,"td",2),J.Cc(8,ae,4,1,"button",3),J.Ec(9," \xa0 "),J.Cc(10,re,4,1,"button",3),J.Ec(11," \xa0 "),J.Cc(12,de,3,0,"button",4),J.Cc(13,me,3,0,"button",4),J.Tb(),J.Tb(),J.Tb(),J.Cc(14,ye,2,1,"ng-container",5),J.Cc(15,Pe,14,4,"div",6),J.Cc(16,xe,2,0,"p",5),J.Pb(17,"br"),J.Pb(18,"br"),J.Pb(19,"br"),J.Pb(20,"br"),J.Tb()),2&e&&(J.Cb(5),J.Fb("spinner",t.loading),J.Cb(3),J.lc("ngIf",1==t.isEmployeesExist&&1==t.isEmployeesLoaded&&0==t.gridOn),J.Cb(2),J.lc("ngIf",1==t.isEmployeesExist&&1==t.isEmployeesLoaded&&0==t.gridOn),J.Cb(2),J.lc("ngIf",1==t.isEmployeesExist&&1==t.isEmployeesLoaded&&1==t.gridOn),J.Cb(1),J.lc("ngIf",1==t.isEmployeesExist&&1==t.isEmployeesLoaded&&0==t.gridOn),J.Cb(1),J.lc("ngIf",t.gridOn),J.Cb(1),J.lc("ngIf",1==t.isEmployeesExist&&0==t.gridOn),J.Cb(1),J.lc("ngIf",0==t.isEmployeesExist&&1==t.isEmployeesLoaded))},directives:[i.k,u.b,s.a,i.j,p.a,p.e,p.c,p.h,p.g,p.d,se.a,l.t,l.l,l.o,se.c,l.a,n.b,d.j,d.c,d.e,d.b,d.g,d.i,d.d,d.a,f.a,d.f,d.h],styles:['mat-card[_ngcontent-%COMP%]{max-width:100%;margin:2em auto}mat-form-field[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%}.Avatarimg[_ngcontent-%COMP%]{border-radius:50%;width:30px;height:30px}tr.border_bottom[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #000}.tdlebel[_ngcontent-%COMP%]{font-size:16px;font-weight:400;font-family:IBM Plex Sans Medium;padding:4px;margin:0;vertical-align:center;width:120px}.select-cell-width[_ngcontent-%COMP%]{width:80px}tr.mat-header-row[_ngcontent-%COMP%]{font-weight:700;height:50px!important;font-size:14px;background:#dbd8d8}tr.mat-row[_ngcontent-%COMP%]{height:35px!important}.example-card[_ngcontent-%COMP%]{max-width:50%;min-width:45%;margin-right:25px;margin-top:25px;float:left}@-webkit-keyframes spinner{to{transform:rotate(1turn)}}@keyframes spinner{to{transform:rotate(1turn)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#000;-webkit-animation:spinner .8s linear infinite;animation:spinner .8s linear infinite}']}),e})(),Ke=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t}onNoClick(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(J.Ob(R.g),J.Ob(R.a))},e.\u0275cmp=J.Ib({type:e,selectors:[["ng-component"]],decls:38,vars:14,consts:[["mat-dialog-title",""],[1,"tdlebel"],["colspan","2"],["bindLabel","kmRoleName","bindValue","kmRoleId","required","",3,"items","multiple","closeOnSelect","ngModel","ngModelChange"],["ng-option-tmp",""],["bindLabel","skillRollName","bindValue","skillRollId","required","",3,"items","multiple","closeOnSelect","ngModel","ngModelChange"],["bindLabel","portfolioSName","bindValue","portfolioId","required","",3,"items","multiple","closeOnSelect","ngModel","ngModelChange"],["colspan","2",2,"text-align","center"],["mat-dialog-actions","","align","center"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","","color","primary",3,"mat-dialog-close","disabled"],["type","checkbox",3,"id","ngModel"],[1,"Avatarimg",3,"src"]],template:function(e,t){1&e&&(J.Ub(0,"h1",0),J.Ec(1,"Approve Employee"),J.Tb(),J.Pb(2,"hr"),J.Ub(3,"table"),J.Ub(4,"tr"),J.Ub(5,"th",1),J.Ub(6,"mat-error"),J.Ec(7,"*"),J.Tb(),J.Ec(8,"KM Roles:"),J.Tb(),J.Ub(9,"td",2),J.Ub(10,"ng-select",3),J.cc("ngModelChange",(function(e){return t.data.selectedKMRoles=e})),J.Cc(11,Se,2,3,"ng-template",4),J.Tb(),J.Tb(),J.Tb(),J.Ub(12,"tr"),J.Ub(13,"th",1),J.Ub(14,"mat-error"),J.Ec(15,"*"),J.Tb(),J.Ec(16,"IT Roles:"),J.Tb(),J.Ub(17,"td"),J.Ub(18,"ng-select",5),J.cc("ngModelChange",(function(e){return t.data.selectedITRoles=e})),J.Cc(19,Ee,2,3,"ng-template",4),J.Tb(),J.Tb(),J.Tb(),J.Ub(20,"tr"),J.Ub(21,"th",1),J.Ub(22,"mat-error"),J.Ec(23,"*"),J.Tb(),J.Ec(24,"Accounts:"),J.Tb(),J.Ub(25,"td"),J.Ub(26,"ng-select",6),J.cc("ngModelChange",(function(e){return t.data.selectedAccount=e})),J.Cc(27,Oe,4,4,"ng-template",4),J.Tb(),J.Tb(),J.Tb(),J.Ub(28,"tr"),J.Pb(29,"td",7),J.Tb(),J.Tb(),J.Pb(30,"hr"),J.Ub(31,"div",8),J.Ub(32,"button",9),J.cc("click",(function(){return t.onNoClick()})),J.Ec(33,"Cancel"),J.Tb(),J.Ub(34,"button",10),J.Ub(35,"mat-icon"),J.Ec(36,"done_all"),J.Tb(),J.Ec(37," Approve "),J.Tb(),J.Tb()),2&e&&(J.Cb(10),J.lc("items",t.data.kmRoles)("multiple",!0)("closeOnSelect",!1)("ngModel",t.data.selectedKMRoles),J.Cb(8),J.lc("items",t.data.itRoles)("multiple",!0)("closeOnSelect",!1)("ngModel",t.data.selectedITRoles),J.Cb(8),J.lc("items",t.data.accounts)("multiple",!0)("closeOnSelect",!1)("ngModel",t.data.selectedAccount),J.Cb(8),J.lc("mat-dialog-close",t.data)("disabled",t.data.selectedITRoles.length<1||t.data.selectedKMRoles.length<1||t.data.selectedAccount.length<1))},directives:[R.h,n.b,se.a,l.t,l.l,l.o,se.c,R.c,u.b,R.d,s.a,l.a],styles:['mat-card[_ngcontent-%COMP%]{max-width:100%;margin:2em auto}mat-form-field[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%}.Avatarimg[_ngcontent-%COMP%]{border-radius:50%;width:30px;height:30px}tr.border_bottom[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #000}.tdlebel[_ngcontent-%COMP%]{font-size:16px;font-weight:400;font-family:IBM Plex Sans Medium;padding:4px;margin:0;vertical-align:center;width:120px}.select-cell-width[_ngcontent-%COMP%]{width:80px}tr.mat-header-row[_ngcontent-%COMP%]{font-weight:700;height:50px!important;font-size:14px;background:#dbd8d8}tr.mat-row[_ngcontent-%COMP%]{height:35px!important}.example-card[_ngcontent-%COMP%]{max-width:50%;min-width:45%;margin-right:25px;margin-top:25px;float:left}@-webkit-keyframes spinner{to{transform:rotate(1turn)}}@keyframes spinner{to{transform:rotate(1turn)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#000;-webkit-animation:spinner .8s linear infinite;animation:spinner .8s linear infinite}']}),e})(),_e=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t}onNoClick(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(J.Ob(R.g),J.Ob(R.a))},e.\u0275cmp=J.Ib({type:e,selectors:[["ng-component"]],decls:13,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"full-width-input"],["matInput","","placeholder","Reject Reason ...","rows","5",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","center"],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,t){1&e&&(J.Ub(0,"h1",0),J.Ec(1,"Reject Dialog"),J.Tb(),J.Ub(2,"div",1),J.Ub(3,"mat-form-field",2),J.Ub(4,"textarea",3),J.cc("ngModelChange",(function(e){return t.data.remarks=e})),J.Tb(),J.Ub(5,"mat-error"),J.Ec(6," Please provide Reject Reason. "),J.Tb(),J.Tb(),J.Tb(),J.Pb(7,"hr"),J.Ub(8,"div",4),J.Ub(9,"button",5),J.cc("click",(function(){return t.onNoClick()})),J.Ec(10,"Cancel"),J.Tb(),J.Ub(11,"button",6),J.Ec(12,"Ok"),J.Tb(),J.Tb()),2&e&&(J.Cb(4),J.lc("ngModel",t.data.remarks),J.Cb(7),J.lc("mat-dialog-close",t.data))},directives:[R.h,R.e,n.c,r.b,l.c,l.l,l.o,n.b,R.c,u.b,R.d],styles:['mat-card[_ngcontent-%COMP%]{max-width:100%;margin:2em auto}mat-form-field[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%}.Avatarimg[_ngcontent-%COMP%]{border-radius:50%;width:30px;height:30px}tr.border_bottom[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #000}.tdlebel[_ngcontent-%COMP%]{font-size:16px;font-weight:400;font-family:IBM Plex Sans Medium;padding:4px;margin:0;vertical-align:center;width:120px}.select-cell-width[_ngcontent-%COMP%]{width:80px}tr.mat-header-row[_ngcontent-%COMP%]{font-weight:700;height:50px!important;font-size:14px;background:#dbd8d8}tr.mat-row[_ngcontent-%COMP%]{height:35px!important}.example-card[_ngcontent-%COMP%]{max-width:50%;min-width:45%;margin-right:25px;margin-top:25px;float:left}@-webkit-keyframes spinner{to{transform:rotate(1turn)}}@keyframes spinner{to{transform:rotate(1turn)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#000;-webkit-animation:spinner .8s linear infinite;animation:spinner .8s linear infinite}']}),e})();var De=o("jold"),Ne=o("DhMS");function Ve(e,t){if(1&e&&(J.Ub(0,"td",18),J.Ec(1),J.Tb()),2&e){const e=t.$implicit;J.Cb(1),J.Hc(" ",e.skillRoll.role.roleName," - ( ",e.skillRoll.skill.skillName," ) ")}}function $e(e,t){if(1&e){const e=J.Vb();J.Ub(0,"td",18),J.Ub(1,"button",19),J.cc("click",(function(){J.wc(e);const o=t.$implicit;return J.gc(2).deleteITRoleDialog(o)})),J.Ub(2,"mat-icon"),J.Ec(3,"clear"),J.Tb(),J.Tb(),J.Tb()}}function Be(e,t){1&e&&J.Pb(0,"tr",20)}function je(e,t){if(1&e&&(J.Pb(0,"input",23),J.Ec(1)),2&e){const e=t.item,o=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",o.selected),J.Cb(1),J.Gc(" ",e.skillRollName," ")}}function Le(e,t){if(1&e){const e=J.Vb();J.Sb(0),J.Ub(1,"ng-select",21),J.cc("ngModelChange",(function(t){return J.wc(e),J.gc(2).employee.selectedITRoles=t})),J.Cc(2,je,2,3,"ng-template",22),J.Tb(),J.Ub(3,"button",3),J.cc("click",(function(){return J.wc(e),J.gc(2).createITRole()})),J.Ub(4,"mat-icon"),J.Ec(5,"save"),J.Tb(),J.Tb(),J.Ec(6,"\xa0 "),J.Ub(7,"button",3),J.cc("click",(function(){return J.wc(e),J.gc(2).setAddITRole()})),J.Ub(8,"mat-icon"),J.Ec(9,"clear"),J.Tb(),J.Tb(),J.Rb()}if(2&e){const e=J.gc(2);J.Cb(1),J.lc("items",e.itRoles)("multiple",!0)("closeOnSelect",!1)("ngModel",e.employee.selectedITRoles)}}function Fe(e,t){if(1&e&&(J.Ub(0,"td",18),J.Ec(1),J.Tb()),2&e){const e=t.$implicit;J.Cb(1),J.Gc(" ",e.kmRole.kmRoleName," ")}}function qe(e,t){if(1&e){const e=J.Vb();J.Ub(0,"td",18),J.Ub(1,"button",19),J.cc("click",(function(){J.wc(e);const o=t.$implicit;return J.gc(2).deleteKMRoleDialog(o)})),J.Ub(2,"mat-icon"),J.Ec(3,"clear"),J.Tb(),J.Tb(),J.Tb()}}function Ge(e,t){1&e&&J.Pb(0,"tr",20)}function ze(e,t){if(1&e&&(J.Pb(0,"input",23),J.Ec(1)),2&e){const e=t.item,o=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",o.selected),J.Cb(1),J.Gc(" ",e.kmRoleName," ")}}function He(e,t){if(1&e){const e=J.Vb();J.Sb(0),J.Ub(1,"ng-select",24),J.cc("ngModelChange",(function(t){return J.wc(e),J.gc(2).employee.selectedKMRoles=t})),J.Cc(2,ze,2,3,"ng-template",22),J.Tb(),J.Ub(3,"button",3),J.cc("click",(function(){return J.wc(e),J.gc(2).createKMRole()})),J.Ub(4,"mat-icon"),J.Ec(5,"save"),J.Tb(),J.Tb(),J.Ec(6,"\xa0 "),J.Ub(7,"button",3),J.cc("click",(function(){return J.wc(e),J.gc(2).setAddKMRole()})),J.Ub(8,"mat-icon"),J.Ec(9,"clear"),J.Tb(),J.Tb(),J.Rb()}if(2&e){const e=J.gc(2);J.Cb(1),J.lc("items",e.kmRoles)("multiple",!0)("closeOnSelect",!1)("ngModel",e.employee.selectedKMRoles)}}function We(e,t){if(1&e&&(J.Ub(0,"td",18),J.Pb(1,"img",25),J.Ec(2),J.Tb()),2&e){const e=t.$implicit;J.Cb(1),J.mc("src",e.portfolio.portfolioImage,J.xc),J.Cb(1),J.Gc(" \xa0 ",e.portfolio.portfolioSName," ")}}function Je(e,t){if(1&e){const e=J.Vb();J.Ub(0,"td",18),J.Ub(1,"button",19),J.cc("click",(function(){J.wc(e);const o=t.$implicit;return J.gc(2).deleteAccountDialog(o)})),J.Ub(2,"mat-icon"),J.Ec(3,"clear"),J.Tb(),J.Tb(),J.Tb()}}function Xe(e,t){1&e&&J.Pb(0,"tr",20)}function Ye(e,t){if(1&e&&(J.Pb(0,"input",23),J.Ec(1," \xa0\xa0"),J.Pb(2,"img",25),J.Ec(3)),2&e){const e=t.item,o=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",o.selected),J.Cb(2),J.mc("src",e.portfolioImage,J.xc),J.Cb(1),J.Gc("\xa0\xa0\xa0 ",e.portfolioSName," ")}}function Ze(e,t){if(1&e){const e=J.Vb();J.Sb(0),J.Ub(1,"ng-select",26),J.cc("ngModelChange",(function(t){return J.wc(e),J.gc(2).employee.selectedAccount=t})),J.Cc(2,Ye,4,4,"ng-template",22),J.Tb(),J.Ub(3,"button",3),J.cc("click",(function(){return J.wc(e),J.gc(2).createAccount()})),J.Ub(4,"mat-icon"),J.Ec(5,"save"),J.Tb(),J.Tb(),J.Ec(6,"\xa0 "),J.Ub(7,"button",3),J.cc("click",(function(){return J.wc(e),J.gc(2).setAddAccount()})),J.Ub(8,"mat-icon"),J.Ec(9,"clear"),J.Tb(),J.Tb(),J.Rb()}if(2&e){const e=J.gc(2);J.Cb(1),J.lc("items",e.accounts)("multiple",!0)("closeOnSelect",!1)("ngModel",e.employee.selectedAccount)}}function Qe(e,t){if(1&e){const e=J.Vb();J.Sb(0),J.Ub(1,"mat-card",5),J.Ub(2,"mat-card-header"),J.Pb(3,"img",6),J.Ub(4,"mat-card-title"),J.Ec(5),J.Tb(),J.Ub(6,"mat-card-subtitle"),J.Ec(7),J.Tb(),J.Ub(8,"button",7),J.cc("click",(function(){return J.wc(e),J.gc().enableEditBlock()})),J.Ub(9,"mat-icon"),J.Ec(10,"edit"),J.Tb(),J.Tb(),J.Tb(),J.Ub(11,"mat-card-content"),J.Ub(12,"p"),J.Ec(13),J.Tb(),J.Pb(14,"hr"),J.Ub(15,"div",8),J.Ub(16,"mat-card",9),J.Ub(17,"mat-card-header"),J.Pb(18,"img",10),J.Ub(19,"mat-card-title"),J.Ec(20,"IT Role"),J.Tb(),J.Ub(21,"mat-card-subtitle"),J.Ec(22,"Project Specific Role"),J.Tb(),J.Ub(23,"button",7),J.cc("click",(function(){return J.wc(e),J.gc().setAddITRole()})),J.Ub(24,"mat-icon"),J.Ec(25,"add"),J.Tb(),J.Tb(),J.Tb(),J.Ub(26,"mat-card-content"),J.Ub(27,"table",11),J.Sb(28,12),J.Cc(29,Ve,2,2,"td",13),J.Rb(),J.Sb(30,14),J.Cc(31,$e,4,0,"td",13),J.Rb(),J.Cc(32,Be,1,0,"tr",15),J.Tb(),J.Cc(33,Le,10,4,"ng-container",4),J.Tb(),J.Tb(),J.Ub(34,"mat-card",9),J.Ub(35,"mat-card-header"),J.Pb(36,"img",16),J.Ub(37,"mat-card-title"),J.Ec(38,"KM Role"),J.Tb(),J.Ub(39,"mat-card-subtitle"),J.Ec(40,"KM System Specific Role"),J.Tb(),J.Ub(41,"button",7),J.cc("click",(function(){return J.wc(e),J.gc().setAddKMRole()})),J.Ub(42,"mat-icon"),J.Ec(43,"add"),J.Tb(),J.Tb(),J.Tb(),J.Ub(44,"mat-card-content"),J.Ub(45,"table",11),J.Sb(46,12),J.Cc(47,Fe,2,1,"td",13),J.Rb(),J.Sb(48,14),J.Cc(49,qe,4,0,"td",13),J.Rb(),J.Cc(50,Ge,1,0,"tr",15),J.Tb(),J.Cc(51,He,10,4,"ng-container",4),J.Tb(),J.Tb(),J.Ub(52,"mat-card",9),J.Ub(53,"mat-card-header"),J.Pb(54,"img",17),J.Ub(55,"mat-card-title"),J.Ec(56,"Account"),J.Tb(),J.Ub(57,"mat-card-subtitle"),J.Ec(58,"Client Name"),J.Tb(),J.Ub(59,"button",7),J.cc("click",(function(){return J.wc(e),J.gc().setAddAccount()})),J.Ub(60,"mat-icon"),J.Ec(61,"add"),J.Tb(),J.Tb(),J.Tb(),J.Ub(62,"mat-card-content"),J.Ub(63,"table",11),J.Sb(64,12),J.Cc(65,We,3,2,"td",13),J.Rb(),J.Sb(66,14),J.Cc(67,Je,4,0,"td",13),J.Rb(),J.Cc(68,Xe,1,0,"tr",15),J.Tb(),J.Cc(69,Ze,10,4,"ng-container",4),J.Tb(),J.Tb(),J.Tb(),J.Tb(),J.Tb(),J.Rb()}if(2&e){const e=J.gc();J.Cb(3),J.mc("src",e.employee.empImage,J.xc),J.Cb(2),J.Hc("(",e.userData.userId,")\xa0",e.userData.fullName,""),J.Cb(2),J.Fc(e.userData.emailAddress),J.Cb(6),J.Fc(e.employee.empDescription),J.Cb(14),J.lc("dataSource",e.dataSourceITRoles),J.Cb(5),J.lc("matRowDefColumns",e.displayedColumns),J.Cb(1),J.lc("ngIf",e.addITRole),J.Cb(12),J.lc("dataSource",e.dataSourceKMRoles),J.Cb(5),J.lc("matRowDefColumns",e.displayedColumns),J.Cb(1),J.lc("ngIf",e.addKMRole),J.Cb(12),J.lc("dataSource",e.dataSourceAccounts),J.Cb(5),J.lc("matRowDefColumns",e.displayedColumns),J.Cb(1),J.lc("ngIf",e.addAccount)}}function et(e,t){if(1&e){const e=J.Vb();J.Sb(0),J.Ub(1,"mat-card",27),J.Ub(2,"mat-card-header"),J.Pb(3,"img",6),J.Ub(4,"mat-card-title"),J.Ec(5),J.Tb(),J.Ub(6,"mat-card-subtitle"),J.Ec(7),J.Tb(),J.Tb(),J.Ub(8,"mat-card-content"),J.Ub(9,"form",28),J.cc("ngSubmit",(function(){return J.wc(e),J.gc().onSubmit()})),J.Ub(10,"mat-form-field",29),J.Pb(11,"input",30),J.Tb(),J.Ub(12,"mat-form-field",29),J.Pb(13,"textarea",31),J.Tb(),J.Pb(14,"br"),J.Ub(15,"button",32),J.Ub(16,"mat-icon"),J.Ec(17,"save"),J.Tb(),J.Ec(18,"Save"),J.Tb(),J.Ec(19," \xa0\xa0 "),J.Ub(20,"button",3),J.cc("click",(function(){return J.wc(e),J.gc().enableEditBlock()})),J.Ub(21,"mat-icon"),J.Ec(22,"clear"),J.Tb(),J.Ec(23,"Cancel"),J.Tb(),J.Tb(),J.Tb(),J.Tb(),J.Rb()}if(2&e){const e=J.gc();J.Cb(3),J.mc("src",e.employee.empImage,J.xc),J.Cb(2),J.Hc("(",e.employee.ibmEmpId,")\xa0",e.employee.empName,""),J.Cb(2),J.Fc(e.employee.empEmail),J.Cb(2),J.lc("formGroup",e.registerForm)}}function tt(e,t){1&e&&(J.Ub(0,"h5"),J.Ub(1,"mat-icon",35),J.Ec(2,"highlight_off"),J.Tb(),J.Ec(3,"Server Error (Invalid Input)"),J.Tb())}function ot(e,t){if(1&e){const e=J.Vb();J.Sb(0),J.Ub(1,"mat-card"),J.Ub(2,"mat-card-header"),J.Pb(3,"img",6),J.Ub(4,"mat-card-title"),J.Ec(5),J.Tb(),J.Ub(6,"mat-card-subtitle"),J.Ec(7),J.Tb(),J.Tb(),J.Ub(8,"mat-card-content"),J.Ub(9,"form",28),J.cc("ngSubmit",(function(){return J.wc(e),J.gc().onPasswordSubmit()})),J.Ub(10,"mat-form-field",29),J.Pb(11,"input",33),J.Ub(12,"mat-error"),J.Ec(13," Please provide a valid password "),J.Tb(),J.Tb(),J.Ub(14,"mat-form-field",29),J.Pb(15,"input",34),J.Ub(16,"mat-error"),J.Ec(17," Please provide a valid password "),J.Tb(),J.Tb(),J.Pb(18,"br"),J.Pb(19,"br"),J.Ub(20,"button",32),J.Ub(21,"mat-icon"),J.Ec(22,"save"),J.Tb(),J.Ec(23,"Save"),J.Tb(),J.Ec(24," \xa0\xa0 "),J.Ub(25,"button",3),J.cc("click",(function(){return J.wc(e),J.gc().enableChangePassword()})),J.Ub(26,"mat-icon"),J.Ec(27,"clear"),J.Tb(),J.Ec(28,"Cancel"),J.Tb(),J.Pb(29,"br"),J.Pb(30,"br"),J.Cc(31,tt,4,0,"h5",4),J.Tb(),J.Tb(),J.Tb(),J.Rb()}if(2&e){const e=J.gc();J.Cb(3),J.mc("src",e.employee.empImage,J.xc),J.Cb(2),J.Hc("(",e.employee.ibmEmpId,")\xa0",e.employee.empName,""),J.Cb(2),J.Fc(e.employee.empEmail),J.Cb(2),J.lc("formGroup",e.passwordForm),J.Cb(22),J.lc("ngIf",e.passwordError)}}function it(e,t){if(1&e&&(J.Ub(0,"mat-expansion-panel-header",20),J.Ub(1,"mat-panel-title",21),J.Ec(2),J.Tb(),J.Ub(3,"mat-panel-description"),J.Ec(4),J.Pb(5,"img",22),J.Tb(),J.Tb()),2&e){const e=J.gc().$implicit,t=J.gc();J.Cb(2),J.Hc(" (",t.userData.userId,")\xa0",t.userData.fullName," "),J.Cb(2),J.Gc(" ",t.userData.emailAddress," "),J.Cb(1),J.mc("src",e.empImage,J.xc)}}function lt(e,t){if(1&e&&(J.Ub(0,"td",23),J.Ec(1),J.Tb()),2&e){const e=t.$implicit;J.Cb(1),J.Hc(" ",e.skillRoll.role.roleName," - ( ",e.skillRoll.skill.skillName," ) ")}}function ct(e,t){if(1&e){const e=J.Vb();J.Ub(0,"td",23),J.Ub(1,"button",24),J.cc("click",(function(){J.wc(e);const o=t.$implicit;return J.gc(2).deleteITRoleDialog(o)})),J.Ub(2,"mat-icon"),J.Ec(3,"clear"),J.Tb(),J.Tb(),J.Tb()}}function nt(e,t){1&e&&J.Pb(0,"tr",25)}function st(e,t){if(1&e&&(J.Pb(0,"input",29),J.Ec(1)),2&e){const e=t.item,o=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",o.selected),J.Cb(1),J.Gc(" ",e.skillRollName," ")}}function at(e,t){if(1&e){const e=J.Vb();J.Sb(0),J.Ub(1,"ng-select",26),J.cc("ngModelChange",(function(t){return J.wc(e),J.gc().$implicit.selectedITRoles=t})),J.Cc(2,st,2,3,"ng-template",27),J.Tb(),J.Ub(3,"button",28),J.cc("click",(function(){return J.wc(e),J.gc(2).createITRole()})),J.Ub(4,"mat-icon"),J.Ec(5,"save"),J.Tb(),J.Tb(),J.Ec(6,"\xa0 "),J.Ub(7,"button",19),J.cc("click",(function(){J.wc(e);const t=J.gc().$implicit;return J.gc().setAddITRole(t)})),J.Ub(8,"mat-icon"),J.Ec(9,"clear"),J.Tb(),J.Tb(),J.Rb()}if(2&e){const e=J.gc().$implicit,t=J.gc();J.Cb(1),J.lc("items",t.itRoles)("multiple",!0)("closeOnSelect",!1)("ngModel",e.selectedITRoles)}}function rt(e,t){if(1&e&&(J.Ub(0,"td",23),J.Ec(1),J.Tb()),2&e){const e=t.$implicit;J.Cb(1),J.Gc(" ",e.kmRole.kmRoleName," ")}}function dt(e,t){if(1&e){const e=J.Vb();J.Ub(0,"td",23),J.Ub(1,"button",24),J.cc("click",(function(){J.wc(e);const o=t.$implicit;return J.gc(2).deleteKMRoleDialog(o)})),J.Ub(2,"mat-icon"),J.Ec(3,"clear"),J.Tb(),J.Tb(),J.Tb()}}function mt(e,t){1&e&&J.Pb(0,"tr",25)}function bt(e,t){if(1&e&&(J.Pb(0,"input",29),J.Ec(1)),2&e){const e=t.item,o=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",o.selected),J.Cb(1),J.Gc(" ",e.kmRoleName," ")}}function pt(e,t){if(1&e){const e=J.Vb();J.Sb(0),J.Ub(1,"ng-select",30),J.cc("ngModelChange",(function(t){return J.wc(e),J.gc().$implicit.selectedKMRoles=t})),J.Cc(2,bt,2,3,"ng-template",27),J.Tb(),J.Ub(3,"button",19),J.cc("click",(function(){return J.wc(e),J.gc(2).createKMRole()})),J.Ub(4,"mat-icon"),J.Ec(5,"save"),J.Tb(),J.Tb(),J.Ec(6,"\xa0 "),J.Ub(7,"button",19),J.cc("click",(function(){J.wc(e);const t=J.gc().$implicit;return J.gc().setAddKMRole(t)})),J.Ub(8,"mat-icon"),J.Ec(9,"clear"),J.Tb(),J.Tb(),J.Rb()}if(2&e){const e=J.gc().$implicit,t=J.gc();J.Cb(1),J.lc("items",t.kmRoles)("multiple",!0)("closeOnSelect",!1)("ngModel",e.selectedKMRoles)}}function ht(e,t){if(1&e&&(J.Ub(0,"td",23),J.Pb(1,"img",31),J.Ec(2),J.Tb()),2&e){const e=t.$implicit;J.Cb(1),J.mc("src",e.portfolio.portfolioImage,J.xc),J.Cb(1),J.Gc(" \xa0 ",e.portfolio.portfolioSName," ")}}function ut(e,t){if(1&e){const e=J.Vb();J.Ub(0,"td",23),J.Ub(1,"button",24),J.cc("click",(function(){J.wc(e);const o=t.$implicit;return J.gc(2).deleteAccountDialog(o)})),J.Ub(2,"mat-icon"),J.Ec(3,"clear"),J.Tb(),J.Tb(),J.Tb()}}function gt(e,t){1&e&&J.Pb(0,"tr",25)}function ft(e,t){if(1&e&&(J.Pb(0,"input",29),J.Ec(1," \xa0\xa0"),J.Pb(2,"img",31),J.Ec(3)),2&e){const e=t.item,o=t.item$;J.nc("id","item-",t.index,""),J.lc("ngModel",o.selected),J.Cb(2),J.mc("src",e.portfolioImage,J.xc),J.Cb(1),J.Gc("\xa0\xa0\xa0 ",e.portfolioSName," ")}}function Rt(e,t){if(1&e){const e=J.Vb();J.Sb(0),J.Ub(1,"ng-select",32),J.cc("ngModelChange",(function(t){return J.wc(e),J.gc().$implicit.selectedAccount=t})),J.Cc(2,ft,4,4,"ng-template",27),J.Tb(),J.Ub(3,"button",19),J.cc("click",(function(){return J.wc(e),J.gc(2).createAccount()})),J.Ub(4,"mat-icon"),J.Ec(5,"save"),J.Tb(),J.Tb(),J.Ec(6,"\xa0 "),J.Ub(7,"button",19),J.cc("click",(function(){J.wc(e);const t=J.gc().$implicit;return J.gc().setAddAccount(t)})),J.Ub(8,"mat-icon"),J.Ec(9,"clear"),J.Tb(),J.Tb(),J.Rb()}if(2&e){const e=J.gc().$implicit,t=J.gc();J.Cb(1),J.lc("items",t.accounts)("multiple",!0)("closeOnSelect",!1)("ngModel",e.selectedAccount)}}function yt(e,t){if(1&e){const e=J.Vb();J.Ub(0,"mat-expansion-panel",4),J.cc("opened",(function(){J.wc(e);const o=t.$implicit;return J.gc().fetchGeneralInfo(o)})),J.Cc(1,it,6,4,"mat-expansion-panel-header",5),J.Ub(2,"p"),J.Ub(3,"u"),J.Ec(4,"@About"),J.Tb(),J.Ec(5),J.Tb(),J.Ub(6,"div",6),J.Ub(7,"mat-card",7),J.Ub(8,"mat-card-header"),J.Pb(9,"img",8),J.Ub(10,"mat-card-title"),J.Ec(11,"IT Role"),J.Tb(),J.Ub(12,"mat-card-subtitle"),J.Ec(13,"Project Specific Role"),J.Tb(),J.Ub(14,"button",9),J.cc("click",(function(){J.wc(e);const o=t.$implicit;return J.gc().setAddITRole(o)})),J.Ub(15,"mat-icon"),J.Ec(16,"add"),J.Tb(),J.Tb(),J.Tb(),J.Ub(17,"mat-card-content"),J.Ub(18,"table",10),J.Sb(19,11),J.Cc(20,lt,2,2,"td",12),J.Rb(),J.Sb(21,13),J.Cc(22,ct,4,0,"td",12),J.Rb(),J.Cc(23,nt,1,0,"tr",14),J.Tb(),J.Cc(24,at,10,4,"ng-container",15),J.Tb(),J.Tb(),J.Ub(25,"mat-card",7),J.Ub(26,"mat-card-header"),J.Pb(27,"img",16),J.Ub(28,"mat-card-title"),J.Ec(29,"KM Role"),J.Tb(),J.Ub(30,"mat-card-subtitle"),J.Ec(31,"KM System Specific Role"),J.Tb(),J.Ub(32,"button",9),J.cc("click",(function(){J.wc(e);const o=t.$implicit;return J.gc().setAddKMRole(o)})),J.Ub(33,"mat-icon"),J.Ec(34,"add"),J.Tb(),J.Tb(),J.Tb(),J.Ub(35,"mat-card-content"),J.Ub(36,"table",10),J.Sb(37,11),J.Cc(38,rt,2,1,"td",12),J.Rb(),J.Sb(39,13),J.Cc(40,dt,4,0,"td",12),J.Rb(),J.Cc(41,mt,1,0,"tr",14),J.Tb(),J.Cc(42,pt,10,4,"ng-container",15),J.Tb(),J.Tb(),J.Ub(43,"mat-card",7),J.Ub(44,"mat-card-header"),J.Pb(45,"img",17),J.Ub(46,"mat-card-title"),J.Ec(47,"Account"),J.Tb(),J.Ub(48,"mat-card-subtitle"),J.Ec(49,"Client Name"),J.Tb(),J.Ub(50,"button",9),J.cc("click",(function(){J.wc(e);const o=t.$implicit;return J.gc().setAddAccount(o)})),J.Ub(51,"mat-icon"),J.Ec(52,"add"),J.Tb(),J.Tb(),J.Tb(),J.Ub(53,"mat-card-content"),J.Ub(54,"table",10),J.Sb(55,11),J.Cc(56,ht,3,2,"td",12),J.Rb(),J.Sb(57,13),J.Cc(58,ut,4,0,"td",12),J.Rb(),J.Cc(59,gt,1,0,"tr",14),J.Tb(),J.Cc(60,Rt,10,4,"ng-container",15),J.Tb(),J.Tb(),J.Tb(),J.Ub(61,"mat-action-row",18),J.Ub(62,"button",19),J.cc("click",(function(){return J.wc(e),J.gc().offBoardingDialog()})),J.Ec(63,"Off-Board"),J.Tb(),J.Tb(),J.Tb()}if(2&e){const e=t.$implicit,o=J.gc();J.Cb(1),J.lc("ngIf",e.empId!=o.logInemployee.empId),J.Cb(4),J.Gc(" - ",e.empDescription,""),J.Cb(13),J.lc("dataSource",e.dataSourceITRoles),J.Cb(5),J.lc("matRowDefColumns",o.displayedColumns),J.Cb(1),J.lc("ngIf",e.addITRole),J.Cb(12),J.lc("dataSource",e.dataSourceKMRoles),J.Cb(5),J.lc("matRowDefColumns",o.displayedColumns),J.Cb(1),J.lc("ngIf",e.addKMRole),J.Cb(12),J.lc("dataSource",e.dataSourceAccounts),J.Cb(5),J.lc("matRowDefColumns",o.displayedColumns),J.Cb(1),J.lc("ngIf",e.addAccount)}}const Tt=[{path:"menu",component:Q,children:[{path:"approve",component:ve},{path:"my-profile",component:(()=>{class e{constructor(e,t,o,i,l,c,n){this.authenticationService=e,this.http=t,this.userService=o,this.formBuilder=i,this._snackBar=l,this.dialog=c,this.globals=n,this.kmRoleAPIUrl="http://localhost:9080/knowledge/management/kmrole/",this.itRoleAPIUrl="http://localhost:9080/knowledge/management/skill-role",this.portfolioAPIUrl="http://localhost:9080/knowledge/management/portfolio",this.employeeITRoleAPIUrl="http://localhost:9080/knowledge/management/employee/role/all",this.employeeITRoleDelAPIUrl="http://localhost:9080/knowledge/management/employee/role/",this.employeeKMRoleAPIUrl="http://localhost:9080/knowledge/management/employee/km-role/",this.employeeAccountAPIUrl="http://localhost:9080/knowledge/management/employee/account/",this.toast=oe.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}),this.passwordError=!1,this.profileBlock=!0,this.editBlock=!1,this.changePassword=!1,this.alreadySelectedKMRoles=[],this.alreadySelectedITRoles=[],this.alreadySelectedAccount=[],this.addITRole=!1,this.addKMRole=!1,this.addAccount=!1,this.displayedColumns=["name","actions"],this.userData=this.globals.userData}ngOnInit(){this.authenticationService.currentUserValue&&(this.employee=this.authenticationService.currentUserValue,this.registerForm=this.formBuilder.group({empImage:[this.employee.empImage],empDescription:[this.employee.empDescription]}),this.passwordForm=this.formBuilder.group({oldPassword:["",[l.v.required,l.v.minLength(6)]],newPassword:["",[l.v.required,l.v.minLength(6)]]}),this.dataSourceKMRoles=new d.k(this.employee.empKMRole),this.dataSourceITRoles=new d.k(this.employee.empITRoles),this.dataSourceAccounts=new d.k(this.employee.empAccount),this.loadRole(),this.loadITRole(),this.loadportfolio(),this.alreadySelectedKMRoles=this.employee.empKMRole.map(e=>e.kmRoleId),this.alreadySelectedITRoles=this.employee.empITRoles.map(e=>e.itRoleId),this.alreadySelectedAccount=this.employee.empAccount.map(e=>e.portfolioId))}enableEditBlock(){this.editBlock?this.enableProfileBlock():(this.editBlock=!0,this.profileBlock=!1,this.changePassword=!1)}enableProfileBlock(){this.editBlock=!1,this.profileBlock=!0,this.changePassword=!1}enableChangePassword(){this.changePassword?this.enableProfileBlock():(this.editBlock=!1,this.profileBlock=!1,this.changePassword=!0)}setAddITRole(){this.addITRole=!this.addITRole}setAddKMRole(){this.addKMRole=!this.addKMRole}setAddAccount(){this.addAccount=!this.addAccount}loadportfolio(){this.http.get(this.portfolioAPIUrl).subscribe(e=>{this.originalAccounts=e,this.formatPortfolio()},e=>{console.log("error")})}formatPortfolio(){this.accounts=this.originalAccounts.map(e=>({portfolioId:e.portfolioId,portfolioSName:e.portfolioSName,portfolioImage:e.portfolioImage,disabled:this.alreadySelectedAccount.indexOf(e.portfolioId)>-1}))}getPortfolio(e){var t;for(t=0;t<this.originalAccounts.length;t++)if(this.originalAccounts[t].portfolioId==e)return this.originalAccounts[t]}loadRole(){this.http.get(this.kmRoleAPIUrl).subscribe(e=>{this.originalKMRoles=e,this.formatKMRole()},e=>{console.log("error")})}formatKMRole(){this.kmRoles=this.originalKMRoles.map(e=>({kmRoleId:e.kmRoleId,kmRoleName:e.kmRoleName,disabled:this.alreadySelectedKMRoles.indexOf(e.kmRoleId)>-1}))}getKMRoles(e){var t;for(t=0;t<this.originalKMRoles.length;t++)if(this.originalKMRoles[t].kmRoleId==e)return this.originalKMRoles[t]}loadITRole(){this.http.get(this.itRoleAPIUrl).subscribe(e=>{this.itRoles=e,this.originalITRoles=e,this.formatITRole()},e=>{console.log("error")})}formatITRole(){this.itRoles=this.originalITRoles.map(e=>({skillRollId:e.skillRollId,skillRollName:e.role.roleName+" - ( "+e.skill.skillName+" )",disabled:this.alreadySelectedITRoles.indexOf(e.skillRollId)>-1}))}getITRoles(e){var t;for(t=0;t<this.originalITRoles.length;t++)if(this.originalITRoles[t].skillRollId==e)return this.originalITRoles[t]}createITRole(){this.insertITRoleObject=this.employee.selectedITRoles.map(e=>({empId:this.employee.empId,itRoleId:e})),this.http.post(this.employeeITRoleAPIUrl,this.insertITRoleObject).subscribe(e=>{if(Array.isArray(e)){var t;for(t=0;t<e.length;t++)e[t].skillRoll=this.getITRoles(e[t].itRoleId),this.employee.empITRoles.push(e[t]),this.alreadySelectedITRoles.push(e[t].itRoleId);this.employee.selectedITRoles=[],this.dataSourceITRoles.data=this.employee.empITRoles,this.authenticationService.updateSession(this.employee),this.formatITRole()}},e=>{console.log("error")})}deleteITRole(e){this.http.delete(this.employeeITRoleDelAPIUrl+e.empITRoleId).subscribe(t=>{this.employee.empITRoles.splice(this.employee.empITRoles.indexOf(e),1),this.dataSourceITRoles.data=this.employee.empITRoles,this.authenticationService.updateSession(this.employee),this.alreadySelectedITRoles.splice(this.alreadySelectedITRoles.indexOf(e.empITRoleId),1),this.formatITRole()},e=>{console.log("error")})}deleteITRoleDialog(e){if(1==this.employee.empITRoles.length)return void this._snackBar.open("At least one is needed.","OK",{duration:2e3});const t=new De.b("Confirm Action","Are you sure you want to delete this?");this.dialog.open(De.a,{maxWidth:"400px",data:t}).afterClosed().subscribe(t=>{t&&this.deleteITRole(e)})}createKMRole(){this.insertKMRoleObject=this.employee.selectedKMRoles.map(e=>({empId:this.employee.empId,kmRoleId:e})),this.http.post(this.employeeKMRoleAPIUrl+"all",this.insertKMRoleObject).subscribe(e=>{if(Array.isArray(e)){var t;for(t=0;t<e.length;t++)e[t].kmRole=this.getKMRoles(e[t].kmRoleId),this.employee.empKMRole.push(e[t]),this.alreadySelectedKMRoles.push(e[t].kmRoleId);this.employee.selectedKMRoles=[],this.dataSourceKMRoles.data=this.employee.empKMRole,this.authenticationService.updateSession(this.employee),this.formatKMRole()}},e=>{console.log("error")})}deleteKMRole(e){this.http.delete(this.employeeKMRoleAPIUrl+e.empKMRoleId).subscribe(t=>{this.employee.empKMRole.splice(this.employee.empKMRole.indexOf(e),1),this.dataSourceKMRoles.data=this.employee.empKMRole,this.authenticationService.updateSession(this.employee),this.alreadySelectedKMRoles.splice(this.alreadySelectedKMRoles.indexOf(e.itRoleId),1),this.formatKMRole()},e=>{console.log("error")})}deleteKMRoleDialog(e){if(1==this.employee.empKMRole.length)return void this._snackBar.open("At least one is needed.","OK",{duration:2e3});const t=new De.b("Confirm Action","Are you sure you want to delete this?");this.dialog.open(De.a,{maxWidth:"400px",data:t}).afterClosed().subscribe(t=>{t&&this.deleteKMRole(e)})}createAccount(){this.insertAccountObject=this.employee.selectedAccount.map(e=>({empId:this.employee.empId,portfolioId:e})),this.http.post(this.employeeAccountAPIUrl+"all",this.insertAccountObject).subscribe(e=>{if(Array.isArray(e)){var t;for(t=0;t<e.length;t++)e[t].portfolio=this.getPortfolio(e[t].portfolioId),this.employee.empAccount.push(e[t]),this.alreadySelectedAccount.push(e[t].portfolioId);this.employee.selectedAccount=[],this.dataSourceAccounts.data=this.employee.empAccount,this.authenticationService.updateSession(this.employee),this.formatPortfolio()}},e=>{console.log("error")})}deleteAccountDialog(e){if(1==this.employee.empAccount.length)return void this._snackBar.open("At least one is needed.","OK",{duration:2e3});const t=new De.b("Confirm Action","Are you sure you want to delete this?");this.dialog.open(De.a,{maxWidth:"400px",data:t}).afterClosed().subscribe(t=>{t&&this.deleteAccount(e)})}deleteAccount(e){this.http.delete(this.employeeAccountAPIUrl+e.empAcctId).subscribe(t=>{this.employee.empAccount.splice(this.employee.empAccount.indexOf(e),1),this.dataSourceAccounts.data=this.employee.empAccount,this.authenticationService.updateSession(this.employee),this.alreadySelectedAccount.splice(this.alreadySelectedAccount.indexOf(e.portfolioId),1),this.formatPortfolio()},e=>{console.log("error")})}get f(){return this.registerForm.controls}get pf(){return this.passwordForm.controls}onSubmit(){this.registerForm.invalid||(this.profileData={empId:this.employee.empId,empImage:this.f.empImage.value,empDescription:this.f.empDescription.value},this.userService.update(this.profileData).subscribe(e=>{this.updateResponse=e,this.employee.empDescription=this.updateResponse.empDescription,this.employee.empImage=this.updateResponse.empImage,this.authenticationService.updateSession(this.employee),this.enableEditBlock()},e=>{console.log("error")}))}onPasswordSubmit(){this.passwordForm.invalid||(this.profileData={empEmail:this.employee.empEmail,oldPassword:this.pf.oldPassword.value,newPassword:this.pf.newPassword.value},this.userService.updatePassword(this.profileData).subscribe(e=>{this.toast.fire({icon:"success",title:"Password updated successfully, re-login again."}),this.authenticationService.logout()},e=>{this.passwordError=!0,setTimeout(()=>{this.passwordError=!1},3e3),this.toast.fire({icon:"error",title:"Error at server (invalid input)."})}))}}return e.\u0275fac=function(t){return new(t||e)(J.Ob(ie.a),J.Ob(ne.b),J.Ob(le.a),J.Ob(l.d),J.Ob(F.a),J.Ob(R.b),J.Ob(Ne.a))},e.\u0275cmp=J.Ib({type:e,selectors:[["ng-component"]],decls:15,vars:3,consts:[[1,"container","bg-common","static-height"],[1,"border_bottom"],["align","right"],["mat-stroked-button","","color","primary",3,"click"],[4,"ngIf"],[1,"profile_mat-card"],["mat-card-avatar","","alt","Avatar",3,"src"],["mat-icon-button","","color","primary",1,"more-button",3,"click"],[1,"main-div"],[1,"inner-card"],["mat-card-avatar","","src","https://raw.githubusercontent.com/palashibm2020/KMImage/master/assets/img/icons/IT Role.png"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-card-avatar","","src","https://raw.githubusercontent.com/palashibm2020/KMImage/master/assets/img/icons/KM Role.png"],["mat-card-avatar","","src","https://raw.githubusercontent.com/palashibm2020/KMImage/master/assets/img/icons/Account.png"],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-row",""],["bindLabel","skillRollName","bindValue","skillRollId",3,"items","multiple","closeOnSelect","ngModel","ngModelChange"],["ng-option-tmp",""],["type","checkbox",3,"id","ngModel"],["bindLabel","kmRoleName","bindValue","kmRoleId",3,"items","multiple","closeOnSelect","ngModel","ngModelChange"],[1,"Avatarimg",3,"src"],["bindLabel","portfolioSName","bindValue","portfolioId",3,"items","multiple","closeOnSelect","ngModel","ngModelChange"],[1,"regmat-card"],[3,"formGroup","ngSubmit"],[1,"full-width-input"],["matInput","","placeholder","Avatar Image","formControlName","empImage"],["matInput","","placeholder","About You ...","rows","5","formControlName","empDescription"],["mat-stroked-button","","color","primary"],["matInput","","type","password","placeholder","Old Password","formControlName","oldPassword","required","","minlength","6"],["matInput","","type","password","placeholder","New Password","formControlName","newPassword","required","","minlength","6"],["color","warn"]],template:function(e,t){1&e&&(J.Ub(0,"div",0),J.Pb(1,"br"),J.Ub(2,"table"),J.Ub(3,"tr",1),J.Ub(4,"td"),J.Ub(5,"h1"),J.Ec(6,"My Profile"),J.Tb(),J.Tb(),J.Ub(7,"td",2),J.Ub(8,"button",3),J.cc("click",(function(){return t.enableChangePassword()})),J.Ub(9,"mat-icon"),J.Ec(10,"vpn_key"),J.Tb(),J.Ec(11,"Change Password"),J.Tb(),J.Tb(),J.Tb(),J.Tb(),J.Cc(12,Qe,70,14,"ng-container",4),J.Cc(13,et,24,5,"ng-container",4),J.Cc(14,ot,32,6,"ng-container",4),J.Tb()),2&e&&(J.Cb(12),J.lc("ngIf",t.profileBlock),J.Cb(1),J.lc("ngIf",t.editBlock),J.Cb(1),J.lc("ngIf",t.changePassword))},directives:[u.b,s.a,i.k,p.a,p.e,p.c,p.h,p.g,p.d,d.j,d.c,d.b,d.i,d.a,d.h,se.a,l.l,l.o,se.c,l.a,l.x,l.m,l.f,n.c,r.b,l.c,l.e,l.t,l.h,n.b],styles:["mat-card[_ngcontent-%COMP%]{max-width:100%;margin:2em auto}mat-form-field[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%}.Avatarimg[_ngcontent-%COMP%]{border-radius:50%;width:30px;height:30px}tr.border_bottom[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #000}.tdlebel[_ngcontent-%COMP%]{font-size:16px;font-weight:400;font-family:IBM Plex Sans Medium;padding:4px;margin:0;vertical-align:center;width:120px}.select-cell-width[_ngcontent-%COMP%]{width:80px}tr.mat-header-row[_ngcontent-%COMP%]{font-weight:700;height:50px!important;font-size:14px;background:#dbd8d8}tr.mat-row[_ngcontent-%COMP%]{height:35px!important}.example-card[_ngcontent-%COMP%]{width:100%}.inner-card[_ngcontent-%COMP%]{width:30%;margin-right:20px;margin-top:25px;display:inline-block!important;align:top}.main-div[_ngcontent-%COMP%]{display:flex;justify-content:top;align-items:top}.pointerclass[_ngcontent-%COMP%]{cursor:pointer;display:inline-block!important}.actionbutton[_ngcontent-%COMP%]{padding:0;min-width:23px;min-height:23px!important;font-size:8px!important;line-height:0}.more-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px}"]}),e})()},{path:"employee",component:(()=>{class e{constructor(e,t,o,i,l,c,n){this.http=e,this.userService=t,this.formBuilder=o,this._snackBar=i,this.dialog=l,this.authenticationService=c,this.globals=n,this.employeeUrl="http://localhost:9080/knowledge/management/employee/approve",this.kmRoleAPIUrl="http://localhost:9080/knowledge/management/kmrole/",this.itRoleAPIUrl="http://localhost:9080/knowledge/management/skill-role",this.portfolioAPIUrl="http://localhost:9080/knowledge/management/portfolio",this.employeeITRoleAPIUrl="http://localhost:9080/knowledge/management/employee/role",this.employeeKMRoleAPIUrl="http://localhost:9080/knowledge/management/employee/km-role/",this.employeeAccountAPIUrl="http://localhost:9080/knowledge/management/employee/account/",this.employeeOffBoardingAPIUrl="http://localhost:9080/knowledge/management/employee/offboarding",this.loading=!0,this.addITRole=!1,this.addKMRole=!1,this.addAccount=!1,this.alreadySelectedKMRoles=[],this.alreadySelectedITRoles=[],this.alreadySelectedAccount=[],this.displayedColumns=["name","actions"],this.toast=oe.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3})}ngOnInit(){this.authenticationService.currentUserValue&&(this.logInemployee=this.authenticationService.currentUserValue),this.loadEmployee(),this.loadRole(),this.loadITRole(),this.loadportfolio(),this.userData=this.globals.userData}setAddITRole(e){e.addITRole=!e.addITRole}setAddKMRole(e){e.addKMRole=!e.addKMRole}setAddAccount(e){e.addAccount=!e.addAccount}loadEmployee(){this.http.get(this.employeeUrl).subscribe(e=>{this.employees=e,this.loading=!1},e=>{console.log("error")})}loadportfolio(){this.http.get(this.portfolioAPIUrl).subscribe(e=>{this.originalAccounts=e},e=>{console.log("error")})}loadEmployeeKMRole(){this.http.get(this.employeeKMRoleAPIUrl+this.employee.empId).subscribe(e=>{this.employee.empKMRole=e,this.employee.dataSourceKMRoles=new d.k(this.employee.empKMRole),this.alreadySelectedKMRoles=this.employee.empKMRole.map(e=>e.kmRoleId),this.formatKMRole()},e=>{console.log("error")})}loadEmployeeRole(){this.http.get(this.employeeITRoleAPIUrl+"/"+this.employee.empId).subscribe(e=>{this.employee.empITRoles=e,this.employee.dataSourceITRoles=new d.k(this.employee.empITRoles),this.alreadySelectedITRoles=this.employee.empITRoles.map(e=>e.itRoleId),this.formatITRole()},e=>{console.log("error---\x3e"+e)})}loadEmployeeAccount(){this.http.get(this.employeeAccountAPIUrl+this.employee.empId).subscribe(e=>{this.employee.empAccount=e,this.employee.dataSourceAccounts=new d.k(this.employee.empAccount),this.alreadySelectedAccount=this.employee.empAccount.map(e=>e.portfolioId),this.formatPortfolio()},e=>{console.log("error")})}fetchGeneralInfo(e){this.employee=e,this.employee.opened=!0,this.employee.empKMRole?(this.alreadySelectedKMRoles=this.employee.empKMRole.map(e=>e.kmRoleId),this.formatKMRole()):this.loadEmployeeKMRole(),this.employee.empAccount?(this.alreadySelectedAccount=this.employee.empAccount.map(e=>e.portfolioId),this.formatPortfolio()):this.loadEmployeeAccount(),this.employee.empITRoles?(this.alreadySelectedITRoles=this.employee.empITRoles.map(e=>e.itRoleId),this.formatITRole()):this.loadEmployeeRole()}loadRole(){this.http.get(this.kmRoleAPIUrl).subscribe(e=>{this.originalKMRoles=e},e=>{console.log("error")})}formatKMRole(){this.kmRoles=this.originalKMRoles.map(e=>({kmRoleId:e.kmRoleId,kmRoleName:e.kmRoleName,disabled:this.alreadySelectedKMRoles.indexOf(e.kmRoleId)>-1}))}getKMRoles(e){var t;for(t=0;t<this.originalKMRoles.length;t++)if(this.originalKMRoles[t].kmRoleId==e)return this.originalKMRoles[t]}loadITRole(){this.http.get(this.itRoleAPIUrl).subscribe(e=>{this.itRoles=e,this.originalITRoles=e},e=>{console.log("error")})}formatITRole(){this.itRoles=this.originalITRoles.map(e=>({skillRollId:e.skillRollId,skillRollName:e.role.roleName+" - ( "+e.skill.skillName+" )",disabled:this.alreadySelectedITRoles.indexOf(e.skillRollId)>-1}))}getITRoles(e){var t;for(t=0;t<this.originalITRoles.length;t++)if(this.originalITRoles[t].skillRollId==e)return this.originalITRoles[t]}createITRole(){this.insertITRoleObject=this.employee.selectedITRoles.map(e=>({empId:this.employee.empId,itRoleId:e})),console.log(JSON.stringify(this.insertITRoleObject)),this.http.post(this.employeeITRoleAPIUrl+"/all",this.insertITRoleObject).subscribe(e=>{if(Array.isArray(e)){var t;for(t=0;t<e.length;t++)e[t].skillRoll=this.getITRoles(e[t].itRoleId),this.employee.empITRoles.push(e[t]),this.alreadySelectedITRoles.push(e[t].itRoleId);this.employee.selectedITRoles=[],this.employee.dataSourceITRoles.data=this.employee.empITRoles,this.formatITRole()}},e=>{console.log("error---\x3e"+e)})}deleteITRole(e){this.http.delete(this.employeeITRoleAPIUrl+"/"+e.empITRoleId).subscribe(t=>{this.employee.empITRoles.splice(this.employee.empITRoles.indexOf(e),1),this.employee.dataSourceITRoles.data=this.employee.empITRoles,this.alreadySelectedITRoles.splice(this.alreadySelectedITRoles.indexOf(e.empITRoleId),1),this.formatITRole()},e=>{console.log("error")})}deleteITRoleDialog(e){if(1==this.employee.empITRoles.length)return void this._snackBar.open("At least one is needed.","OK",{duration:2e3});const t=new De.b("Confirm Action","Are you sure you want to delete this?");this.dialog.open(De.a,{maxWidth:"400px",data:t}).afterClosed().subscribe(t=>{t&&this.deleteITRole(e)})}createKMRole(){this.insertKMRoleObject=this.employee.selectedKMRoles.map(e=>({empId:this.employee.empId,kmRoleId:e})),this.http.post(this.employeeKMRoleAPIUrl+"all",this.insertKMRoleObject).subscribe(e=>{if(Array.isArray(e)){var t;for(t=0;t<e.length;t++)e[t].kmRole=this.getKMRoles(e[t].kmRoleId),this.employee.empKMRole.push(e[t]),this.alreadySelectedKMRoles.push(e[t].kmRoleId);this.employee.selectedKMRoles=[],this.employee.dataSourceKMRoles.data=this.employee.empKMRole,this.formatKMRole()}},e=>{console.log("error")})}deleteKMRole(e){this.http.delete(this.employeeKMRoleAPIUrl+e.empKMRoleId).subscribe(t=>{this.employee.empKMRole.splice(this.employee.empKMRole.indexOf(e),1),this.employee.dataSourceKMRoles.data=this.employee.empKMRole,this.alreadySelectedKMRoles.splice(this.alreadySelectedKMRoles.indexOf(e.itRoleId),1),this.formatKMRole()},e=>{console.log("error")})}deleteKMRoleDialog(e){if(1==this.employee.empKMRole.length)return void this._snackBar.open("At least one is needed.","OK",{duration:2e3});const t=new De.b("Confirm Action","Are you sure you want to delete this?");this.dialog.open(De.a,{maxWidth:"400px",data:t}).afterClosed().subscribe(t=>{t&&this.deleteKMRole(e)})}createAccount(){this.insertAccountObject=this.employee.selectedAccount.map(e=>({empId:this.employee.empId,portfolioId:e})),this.http.post(this.employeeAccountAPIUrl+"all",this.insertAccountObject).subscribe(e=>{if(Array.isArray(e)){var t;for(t=0;t<e.length;t++)e[t].portfolio=this.getPortfolio(e[t].portfolioId),this.employee.empAccount.push(e[t]),this.alreadySelectedAccount.push(e[t].portfolioId);this.employee.selectedAccount=[],this.employee.dataSourceAccounts.data=this.employee.empAccount,this.formatPortfolio()}},e=>{console.log("error")})}deleteAccountDialog(e){if(1==this.employee.empAccount.length)return void this._snackBar.open("At least one is needed.","OK",{duration:2e3});const t=new De.b("Confirm Action","Are you sure you want to delete this?");this.dialog.open(De.a,{maxWidth:"400px",data:t}).afterClosed().subscribe(t=>{t&&this.deleteAccount(e)})}deleteAccount(e){this.http.delete(this.employeeAccountAPIUrl+e.empAcctId).subscribe(t=>{this.employee.empAccount.splice(this.employee.empAccount.indexOf(e),1),this.employee.dataSourceAccounts.data=this.employee.empAccount,this.alreadySelectedAccount.splice(this.alreadySelectedAccount.indexOf(e.portfolioId),1),this.formatPortfolio()},e=>{console.log("error")})}formatPortfolio(){this.accounts=this.originalAccounts.map(e=>({portfolioId:e.portfolioId,portfolioSName:e.portfolioSName,portfolioImage:e.portfolioImage,disabled:this.alreadySelectedAccount.indexOf(e.portfolioId)>-1}))}getPortfolio(e){var t;for(t=0;t<this.originalAccounts.length;t++)if(this.originalAccounts[t].portfolioId==e)return this.originalAccounts[t]}offBoardingDialog(){const e=new De.b("Confirm Action","Are you sure you want to off-Board this?");this.dialog.open(De.a,{maxWidth:"400px",data:e}).afterClosed().subscribe(e=>{e&&this.offBoarding()})}offBoarding(){this.http.post(this.employeeOffBoardingAPIUrl,{empId:this.employee.empId}).subscribe(e=>{this.employees.splice(this.employees.indexOf(this.employee),1),this.toast.fire({icon:"success",title:"OffBoarding is done successfully."})},e=>{console.log("error")})}}return e.\u0275fac=function(t){return new(t||e)(J.Ob(ne.b),J.Ob(le.a),J.Ob(l.d),J.Ob(F.a),J.Ob(R.b),J.Ob(ie.a),J.Ob(Ne.a))},e.\u0275cmp=J.Ib({type:e,selectors:[["ng-component"]],decls:13,vars:1,consts:[[1,"container","bg-common","static-height"],[1,"border_bottom"],[1,"example-headers-align"],["class","requirement-panels",3,"opened",4,"ngFor","ngForOf"],[1,"requirement-panels",3,"opened"],["class","requirement-panel-header",4,"ngIf"],[1,"main-div"],[1,"inner-card"],["mat-card-avatar","","src","https://raw.githubusercontent.com/palashibm2020/KMImage/master/assets/img/icons/IT Role.png"],["mat-icon-button","","color","primary",1,"more-button",3,"click"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["mat-card-avatar","","src","https://raw.githubusercontent.com/palashibm2020/KMImage/master/assets/img/icons/KM Role.png"],["mat-card-avatar","","src","https://raw.githubusercontent.com/palashibm2020/KMImage/master/assets/img/icons/Account.png"],[2,"text-align","center"],["mat-stroked-button","","color","primary",3,"click"],[1,"requirement-panel-header"],[1,"requirement-panel-title"],["mat-card-avatar","","alt","Avatar",3,"src"],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-row",""],["bindLabel","skillRollName","bindValue","skillRollId",3,"items","multiple","closeOnSelect","ngModel","ngModelChange"],["ng-option-tmp",""],["mat-stroked-button","","color","primary","ng-focus","employees.opened",3,"click"],["type","checkbox",3,"id","ngModel"],["bindLabel","kmRoleName","bindValue","kmRoleId",3,"items","multiple","closeOnSelect","ngModel","ngModelChange"],[1,"Avatarimg",3,"src"],["bindLabel","portfolioSName","bindValue","portfolioId",3,"items","multiple","closeOnSelect","ngModel","ngModelChange"]],template:function(e,t){1&e&&(J.Ub(0,"div",0),J.Pb(1,"br"),J.Ub(2,"table"),J.Ub(3,"tr",1),J.Ub(4,"td"),J.Ub(5,"h1"),J.Ec(6,"All Approved Employee"),J.Tb(),J.Tb(),J.Tb(),J.Tb(),J.Pb(7,"br"),J.Ub(8,"mat-accordion",2),J.Cc(9,yt,64,11,"mat-expansion-panel",3),J.Tb(),J.Pb(10,"br"),J.Pb(11,"br"),J.Pb(12,"br"),J.Tb()),2&e&&(J.Cb(9),J.lc("ngForOf",t.employees))},directives:[c.a,i.j,c.c,i.k,p.a,p.e,p.c,p.h,p.g,u.b,s.a,p.d,d.j,d.c,d.b,d.i,c.d,c.f,c.g,c.e,d.a,d.h,se.a,l.l,l.o,se.c,l.a],styles:["mat-card[_ngcontent-%COMP%]{max-width:100%;margin:2em auto}mat-form-field[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%}.Avatarimg[_ngcontent-%COMP%]{border-radius:50%;width:30px;height:30px}tr.border_bottom[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #000}.tdlebel[_ngcontent-%COMP%]{font-size:16px;font-weight:400;font-family:IBM Plex Sans Medium;padding:4px;margin:0;vertical-align:center;width:120px}.select-cell-width[_ngcontent-%COMP%]{width:80px}tr.mat-header-row[_ngcontent-%COMP%]{font-weight:700;height:50px!important;font-size:14px;background:#dbd8d8}tr.mat-row[_ngcontent-%COMP%]{height:35px!important}.example-card[_ngcontent-%COMP%]{width:100%}.inner-card[_ngcontent-%COMP%]{width:30%;margin-right:20px;margin-top:25px;display:inline-block!important;align:top}.main-div[_ngcontent-%COMP%]{display:flex;justify-content:top;align-items:top}.pointerclass[_ngcontent-%COMP%]{cursor:pointer;display:inline-block!important}.actionbutton[_ngcontent-%COMP%]{padding:0;min-width:23px;min-height:23px!important;font-size:8px!important;line-height:0}.more-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;flex-basis:0}.requirement-panels[_ngcontent-%COMP%]{margin-bottom:1px;border-radius:5px}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.requirement-panel-title[_ngcontent-%COMP%]{font-family:IBM Plex Sans Medium;font-size:16px}.mat-action-row[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-basis:0}"]}),e})()}]},{path:"",redirectTo:"/profile/menu/my-profile"}];let It=(()=>{class e{}return e.\u0275mod=J.Mb({type:e}),e.\u0275inj=J.Lb({factory:function(t){return new(t||e)},imports:[[W.f.forChild(Tt),i.c,l.g,y.l,u.c,c.b,n.e,s.b,a.b,r.c,d.l,m.b,b.a,p.f,h.a,g.c,f.b,R.f,l.s,T.a,I.a,k.e,w.q,A.d,C.a,P.a,x.a,S.a,u.c,E.a,f.b,O.a,v.a,h.a,R.f,K.a,c.b,_.a,s.b,r.c,D.a,N.b,y.l,m.b,V.a,$.a,g.c,y.t,a.b,B.a,j.a,L.a,F.b,b.a,d.l,q.c,G.a,z.b,H.a,M.h,U.d]]}),e})()}}]);