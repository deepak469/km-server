function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{PgJR:function(e,t,r){"use strict";r.r(t),r.d(t,"EmployeeModule",(function(){return fe}));var i=r("ofXK"),a=r("3Pt+"),n=r("ZOsW"),o=r("7EHt"),s=r("kmnG"),c=r("NFeN"),l=r("d3UM"),u=r("qFsG"),b=r("+0xr"),m=r("M9IT"),p=r("Dh3D"),d=r("Wp6s"),f=r("iadO"),h=r("bTqV"),g=r("QibW"),v=r("bSwM"),U=r("0IaG"),C=r("FKr1"),T=r("u47x"),y=r("UXJo"),w=r("5+WD"),k=r("+rOU"),E=r("vxfF"),I=r("B/XX"),P=r("f6nW"),S=r("FvrZ"),O=r("/1cH"),x=r("TU8p"),_=r("2ChS"),N=r("jaxi"),F=r("A5z7"),q=r("xHqg"),A=r("f0Cb"),M=r("zkoq"),D=r("MutI"),j=r("STbY"),L=r("bv9b"),B=r("Xa2L"),G=r("XhcP"),R=r("5RNC"),V=r("1jcm"),X=r("dNgK"),z=r("wZkO"),Y=r("/t3+"),Z=r("Qu3c"),K=r("8yBR"),W=r("tyNb"),H=r("SxV6"),J=r("fXoL"),Q=r("YpDT"),$=r("w7A6");function ee(e,t){if(1&e){var r=J.Vb();J.Ub(0,"li"),J.Ec(1),J.Ub(2,"a",1),J.cc("click",(function(){J.wc(r);var e=t.$implicit;return J.gc().deleteUser(e.id)})),J.Ec(3,"Delete"),J.Tb(),J.Tb()}if(2&e){var i=t.$implicit;J.Cb(1),J.Ic(" ",i.username," (",i.firstName," ",i.lastName,") - ")}}var te,re=((te=function(){function e(t,r){_classCallCheck(this,e),this.authenticationService=t,this.userService=r,this.users=[],this.currentUser=this.authenticationService.currentUserValue}return _createClass(e,[{key:"ngOnInit",value:function(){this.loadAllUsers()}},{key:"deleteUser",value:function(e){var t=this;this.userService.delete(e).pipe(Object(H.a)()).subscribe((function(){return t.loadAllUsers()}))}},{key:"loadAllUsers",value:function(){var e=this;this.userService.getAll().pipe(Object(H.a)()).subscribe((function(t){return e.users=t}))}}]),e}()).\u0275fac=function(e){return new(e||te)(J.Ob(Q.a),J.Ob($.a))},te.\u0275cmp=J.Ib({type:te,selectors:[["ng-component"]],decls:8,vars:2,consts:[[4,"ngFor","ngForOf"],[1,"text-danger",3,"click"]],template:function(e,t){1&e&&(J.Ub(0,"h1"),J.Ec(1),J.Tb(),J.Ub(2,"p"),J.Ec(3,"You're logged in with Angular 8!!"),J.Tb(),J.Ub(4,"h3"),J.Ec(5,"All registered users:"),J.Tb(),J.Ub(6,"ul"),J.Cc(7,ee,4,3,"li",0),J.Tb()),2&e&&(J.Cb(1),J.Gc("Hi ",t.currentUser.empName,"!"),J.Cb(6),J.lc("ngForOf",t.users))},directives:[i.j],encapsulation:2}),te),ie=r("RU4u");function ae(e,t){1&e&&(J.Ub(0,"mat-error"),J.Ec(1," The username and password were not recognised "),J.Tb())}var ne,oe=((ne=function(){function e(t,r,i,a,n){_classCallCheck(this,e),this.formBuilder=t,this.route=r,this.router=i,this.authenticationService=a,this.alertService=n,this.loading=!1,this.submitted=!1,this.authenticationService.currentUserValue&&this.router.navigate(["/"])}return _createClass(e,[{key:"ngOnInit",value:function(){this.loginForm=this.formBuilder.group({username:["",a.v.required],password:["",a.v.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}},{key:"onSubmit",value:function(){var e=this;console.log("onSubmit"),this.submitted=!0,this.alertService.clear(),this.loginForm.invalid?console.log("stop here if form is invalid"):(this.loading=!0,this.loginData={empEmail:this.f.username.value,password:this.f.password.value},this.authenticationService.login(this.loginData).pipe(Object(H.a)()).subscribe((function(t){e.router.navigate([e.returnUrl])}),(function(t){e.loginInvalid=!0,e.alertService.error(t),e.loading=!1})))}},{key:"f",get:function(){return this.loginForm.controls}}]),e}()).\u0275fac=function(e){return new(e||ne)(J.Ob(a.d),J.Ob(W.a),J.Ob(W.c),J.Ob(Q.a),J.Ob(ie.a))},ne.\u0275cmp=J.Ib({type:ne,selectors:[["ng-component"]],decls:24,vars:6,consts:[[1,"container","bg-common","static-height"],[3,"formGroup","ngSubmit"],[4,"ngIf"],[1,"full-width-input"],["matInput","","placeholder","Email","formControlName","username","required",""],["matInput","","type","password","placeholder","Password","formControlName","password","required",""],["mat-raised-button","","color","primary",3,"disabled"],["mat-stroked-button","","routerLink","/employee/register",1,"btn","btn-link",3,"disabled"]],template:function(e,t){1&e&&(J.Ub(0,"div",0),J.Pb(1,"br"),J.Pb(2,"br"),J.Ub(3,"mat-card"),J.Ub(4,"mat-card-content"),J.Ub(5,"form",1),J.cc("ngSubmit",(function(){return t.onSubmit()})),J.Ub(6,"h2"),J.Ec(7,"Log In"),J.Tb(),J.Cc(8,ae,2,0,"mat-error",2),J.Ub(9,"mat-form-field",3),J.Pb(10,"input",4),J.Ub(11,"mat-error"),J.Ec(12," Please provide a valid email address "),J.Tb(),J.Tb(),J.Ub(13,"mat-form-field",3),J.Pb(14,"input",5),J.Ub(15,"mat-error"),J.Ec(16," Please provide a valid password "),J.Tb(),J.Tb(),J.Pb(17,"br"),J.Ub(18,"button",6),J.Ec(19,"Login"),J.Tb(),J.Ec(20," \xa0\xa0 "),J.Ub(21,"a",7),J.Ec(22,"Register"),J.Tb(),J.Tb(),J.Tb(),J.Tb(),J.Pb(23,"div"),J.Tb()),2&e&&(J.Cb(5),J.lc("formGroup",t.loginForm),J.Cb(3),J.lc("ngIf",t.loginInvalid),J.Cb(10),J.Fb("spinner",t.loading),J.lc("disabled",t.loading),J.Cb(3),J.lc("disabled",t.loading))},directives:[d.a,d.d,a.x,a.m,a.f,i.k,s.c,u.b,a.c,a.l,a.e,a.t,s.b,h.b,h.a,W.e],styles:['mat-card[_ngcontent-%COMP%]{max-width:400px;margin:2em auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{display:block}@-webkit-keyframes spinner{to{transform:rotate(1turn)}}@keyframes spinner{to{transform:rotate(1turn)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#000;-webkit-animation:spinner .8s linear infinite;animation:spinner .8s linear infinite}']}),ne);function se(e,t){1&e&&(J.Ub(0,"h5"),J.Ub(1,"mat-icon",14),J.Ec(2,"check_circle_outline"),J.Tb(),J.Ec(3," Profile got created successfully, please wait for admin approval."),J.Tb())}var ce,le,ue,be,me=((ce=function(){function e(t,r,i,a,n){_classCallCheck(this,e),this.formBuilder=t,this.router=r,this.authenticationService=i,this.userService=a,this.alertService=n,this.successFlag=!1,this.submitted=!1,this.authenticationService.currentUserValue&&this.router.navigate(["/"])}return _createClass(e,[{key:"ngOnInit",value:function(){this.registerForm=this.formBuilder.group({empName:["",a.v.required],empEmail:["",a.v.required],ibmEmpId:["",a.v.required],password:["",[a.v.required,a.v.minLength(6)]],empImage:[""],empDescription:[""]})}},{key:"onSubmit",value:function(){var e=this;this.submitted=!0,this.alertService.clear(),this.registerForm.invalid||(this.profileData={empName:this.f.empName.value,empEmail:this.f.empEmail.value,ibmEmpId:this.f.ibmEmpId.value,password:this.f.password.value,empImage:this.f.empImage.value,empDescription:this.f.empDescription.value},this.userService.register(this.profileData).pipe(Object(H.a)()).subscribe((function(t){e.successFlag=!0}),(function(t){e.alertService.error(t)})))}},{key:"f",get:function(){return this.registerForm.controls}}]),e}()).\u0275fac=function(e){return new(e||ce)(J.Ob(a.d),J.Ob(W.c),J.Ob(Q.a),J.Ob($.a),J.Ob(ie.a))},ce.\u0275cmp=J.Ib({type:ce,selectors:[["ng-component"]],decls:38,vars:2,consts:[[1,"container","bg-common","static-height"],[1,"example-card"],["mat-card-avatar","","src","https://raw.githubusercontent.com/palashibm2020/KMImage/master/assets/img/icons/Avatar.png","alt","Avatar"],[3,"formGroup","ngSubmit"],[1,"full-width-input"],["matInput","","placeholder","Employee Name","formControlName","empName","required",""],["matInput","","placeholder","E-Mail","formControlName","empEmail","pattern","[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}","required",""],["matInput","","placeholder","IBM Employee Id","formControlName","ibmEmpId","required",""],["matInput","","type","password","placeholder","Password","formControlName","password","required","","minlength","6"],["matInput","","placeholder","Avatar Image","formControlName","empImage"],["matInput","","placeholder","About You ...","formControlName","empDescription"],["mat-stroked-button","","color","primary"],["mat-stroked-button","","routerLink","/employee/login","color","primary"],[4,"ngIf"],["color","primary"]],template:function(e,t){1&e&&(J.Ub(0,"div",0),J.Ub(1,"mat-card",1),J.Ub(2,"mat-card-header"),J.Pb(3,"img",2),J.Ub(4,"mat-card-title"),J.Ec(5,"Register to Login and Access"),J.Tb(),J.Ub(6,"mat-card-subtitle"),J.Ec(7,"Create a user profile."),J.Tb(),J.Tb(),J.Ub(8,"mat-card-content"),J.Ub(9,"form",3),J.cc("ngSubmit",(function(){return t.onSubmit()})),J.Ub(10,"mat-form-field",4),J.Pb(11,"input",5),J.Ub(12,"mat-error"),J.Ec(13," Please provide Name "),J.Tb(),J.Tb(),J.Ub(14,"mat-form-field",4),J.Pb(15,"input",6),J.Ub(16,"mat-error"),J.Ec(17," Please provide a valid E-Mail "),J.Tb(),J.Tb(),J.Ub(18,"mat-form-field",4),J.Pb(19,"input",7),J.Ub(20,"mat-error"),J.Ec(21," Please provide a valid IBM Employee Id "),J.Tb(),J.Tb(),J.Ub(22,"mat-form-field",4),J.Pb(23,"input",8),J.Ub(24,"mat-error"),J.Ec(25," Please provide a valid password "),J.Tb(),J.Tb(),J.Ub(26,"mat-form-field",4),J.Pb(27,"input",9),J.Tb(),J.Ub(28,"mat-form-field",4),J.Pb(29,"textarea",10),J.Tb(),J.Pb(30,"br"),J.Ub(31,"button",11),J.Ec(32," Register"),J.Tb(),J.Ec(33," \xa0\xa0 "),J.Ub(34,"a",12),J.Ec(35,"Cancel"),J.Tb(),J.Tb(),J.Pb(36,"br"),J.Cc(37,se,4,0,"h5",13),J.Tb(),J.Tb(),J.Tb()),2&e&&(J.Cb(9),J.lc("formGroup",t.registerForm),J.Cb(28),J.lc("ngIf",t.successFlag))},directives:[d.a,d.e,d.c,d.h,d.g,d.d,a.x,a.m,a.f,s.c,u.b,a.c,a.l,a.e,a.t,s.b,a.r,a.h,h.b,h.a,W.e,i.k,c.a],styles:["mat-card[_ngcontent-%COMP%]{max-width:650px;margin:2em auto}mat-form-field[_ngcontent-%COMP%]{display:block}"]}),ce),pe=[{path:"",component:re,canActivate:[(le=function(){function e(t,r){_classCallCheck(this,e),this.router=t,this.authenticationService=r}return _createClass(e,[{key:"canActivate",value:function(e,t){return!!this.authenticationService.currentUserValue||(this.router.navigate(["/employee/login"],{queryParams:{returnUrl:t.url}}),!1)}}]),e}(),le.\u0275fac=function(e){return new(e||le)(J.Yb(W.c),J.Yb(Q.a))},le.\u0275prov=J.Kb({token:le,factory:le.\u0275fac,providedIn:"root"}),le)]},{path:"login",component:oe},{path:"register",component:me},{path:"**",redirectTo:""}],de=((be=function e(){_classCallCheck(this,e)}).\u0275mod=J.Mb({type:be}),be.\u0275inj=J.Lb({factory:function(e){return new(e||be)},imports:[[W.f.forChild(pe)],W.f]}),be),fe=((ue=function e(){_classCallCheck(this,e)}).\u0275mod=J.Mb({type:ue}),ue.\u0275inj=J.Lb({factory:function(e){return new(e||ue)},imports:[[i.c,de,a.g,n.b,C.l,h.c,o.b,s.e,c.b,l.b,u.c,b.l,m.b,p.a,d.f,f.a,g.c,v.b,U.f,a.s,T.a,y.a,I.e,P.q,S.d,w.a,O.a,x.a,_.a,h.c,N.a,v.b,F.a,q.a,f.a,U.f,A.a,o.b,M.a,c.b,u.c,D.a,j.b,C.l,m.b,L.a,B.a,g.c,C.t,l.b,G.a,R.a,V.a,X.b,p.a,b.l,z.c,Y.a,Z.b,K.a,k.h,E.d]]}),ue)}}]);